<!DOCTYPE html><html lang="zh-CN" class="flex flex-col h-full __className_a4da66"><head><meta charSet="utf-8"/><link rel="stylesheet" href="/_next/static/css/26e5e103248c0511.css" data-precedence="next"/><link rel="preload" href="/_next/static/chunks/webpack-f55cc60471d503cd.js" as="script"/><link rel="preload" href="/_next/static/chunks/20e9c529-71751042407fa032.js" as="script"/><link rel="preload" href="/_next/static/chunks/340-17ce4e6ebfbad5f2.js" as="script"/><link rel="preload" href="/_next/static/chunks/main-app-96e8868f9e2f9847.js" as="script"/><title>Ling&#x27;s Blog</title><meta name="description" content="Generated by Ling"/><meta name="author" content="Ling Yu"/><link rel="author" href="https://nextjs.org"/><meta name="author" content="NextJs"/><meta name="generator" content="Next.js"/><meta name="keywords" content="Blog,AI,ML"/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Ling&#x27;s Blog"/><meta property="og:description" content="Developer and Writer."/><meta property="og:url" content="https://shaijing.github.io"/><meta property="og:site_name" content="https://shaijing.github.io"/><meta property="og:locale" content="zh-CN"/><meta property="og:type" content="website"/><meta name="twitter:card" content="summary"/><meta name="twitter:title" content="Ling&#x27;s Blog"/><meta name="twitter:description" content="Developer and Writer."/><link rel="icon" href="https://shaijing.github.io/favicon.ico"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="flex flex-col h-full px-2"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><header class="flex max-w-3xl container mx-auto py-3"><nav class="flex w-full"><ul class="flex flex-1"><li><a class="flex p-2 underline-offset-4  underline" href="/">Home</a></li><li><a class="flex p-2 underline-offset-4  text-gray-600 hover:text-black hover:underline outline-none dark:text-gray-400 dark:hover:text-gray-200" href="/posts">Posts</a></li><li><a class="flex p-2 underline-offset-4  text-gray-600 hover:text-black hover:underline outline-none dark:text-gray-400 dark:hover:text-gray-200" href="/about">About</a></li></ul><button disabled="" type="button" aria-label="Theme Switcher" class="flex items-center p-1 rounded-full text-black hover:bg-gray-200 dark:text-white dark:hover:bg-gray-200 dark:hover:text-black"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 512 512" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"></path></svg></button></nav></header><main class="text-black dark:text-white mx-0 px-2 py-0 flex-1 leading-6 justify-center"><div class="flex flex-row relative justify-between"><div class="w-3/12"><div class=" flex-col"><h1 class="font-extrabold text-2xl tracking-tight mb-4">Ling Yu</h1><p class="text-gray-600 dark:text-gray-400 mb-4">Developer and Writer</p><p class="text-gray-600 dark:text-gray-400">All good things come to those who wait.</p></div></div><div class="w-5/12"><div class="max-w-3xl mx-auto p-4"><h1 class="text-3xl font-semibold mb-4">My Posts</h1><div class="space-y-4"><article class="border rounded p-4"><a href="/posts/centos-stream"><h2 class="text-xl font-semibold">centos-stream</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年7月29日星期六</time></div><a href="/posts/centos-stream"><p class="line-clamp-2">## 启用epel-release源
```bash
# centos 9 stream 版本
 
dnf config-manager --set-enabled crb
dnf install epel-release epel-next-release
 
# RHEL 9.0
subscription-manager repos --enable codeready-builder-for-rhel-9-$(arch)-rpms
dnf install https://dl.fedoraproject.org/pub/epel/epel-release-latest-9.noarch.rpm
 
 
# AlmaLinux 9
dnf config-manager --set-enabled crb
dnf install epel-release
 
```</p></a></article><article class="border rounded p-4"><a href="/posts/debian"><h2 class="text-xl font-semibold">debian linux</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年7月29日星期六</time></div><a href="/posts/debian"><p class="line-clamp-2"> 
# debian安装后工作
## 添加sudo权限
```bash
su - root
chmod 666 /etc/sudoers
vim /etc/sudoers
# 在root下添加
&lt;username&gt; ALL=(ALL:ALL) NOPASSWD:ALL
# :wq
chmod 440 /etc/sudoers
exit
```


## win,linux双系统时间设置
1. 系统时间与硬件时间

Linux系统中有两个时间概念，系统时间与硬件时间。

硬件时间就是BIOS中的时间，视为UTC 0时区，可以用hwclock来查看硬件时间。

系统时间即用date命令查看到的时间，这个时间是系统通过读取BIOS时间并根据系统中的设定的时区来确定的。

2. 修改/etc/adjtime

将BIOS时间视为本地时间，关闭debian中的UTC选项。很多文章提到修改/etc/default/rcS中的UTC=no，这是debian 6的设置方法，而debian12中将这个选项放在了/etc/adjtime文件中，若没有这个文件，可用命令 $sudo hwclock --adjust 来生成。然后将第三行由UTC改为LOCAL。</p></a></article><article class="border rounded p-4"><a href="/posts/ssh_file_transfer"><h2 class="text-xl font-semibold">scp</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年7月29日星期六</time></div><a href="/posts/ssh_file_transfer"><p class="line-clamp-2"># 命令格式
```console
$ scp &lt;sourceFile&gt; &lt;targetFile&gt;
```
## 常用格式
&gt;-P [port] : 指定SSH端口号

&gt;-r : 递归复制整个目录</p></a></article><article class="border rounded p-4"><a href="/posts/vimrc"><h2 class="text-xl font-semibold">vim</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年7月29日星期六</time></div><a href="/posts/vimrc"><p class="line-clamp-2">
##

### 安装 vim9

```bash
add-apt-repository ppa:jonathonf/vim
apt update
apt install  vim
```

### 降级或删除

```bash
apt remove vim
add-apt-repository -r ppa:jonathonf/vim
apt install vim
```

## 配置文件

###################################################################
## 基础设置
###################################################################
set number # 显示行号
set nocompatible # 兼容性设置
syntax on # 语法高亮
set noeb # 关闭错误提示
syntax enable # 开启语法高亮功能
set showmode # 底部显示模式
set showcmd # 命令模式在底部显示当前键入指令
set mouse=a # 正常使用鼠标,可以在 buffer 的任何地方使用鼠标 类似 office 中在工作区双击鼠标定位
set selection=exclusive
set selectmode=mouse,key
set helplang=cn
set t_Co=256 # 启用 256 色
set backspace=indent,eol,start # 设置使用 backspace
filetype plugin on # 载入文件类型插件
#set relativenumber # 显示光标所在的当前行的行号，其他行都为相对于该行的相对行号。
set cursorline # 光标所在的当前行高亮。
set wrap # 自动折行，即太长的行分成几行显示。
set linebreak # 只有遇到指定的符号（比如空格、连词号和其他标点符号），才发生折行。也就是说，不会在单词内部折行。
set laststatus=2 # 是否显示状态栏。0 表示不显示 1 表示只在多窗口时显示 2 表示显示。两行状态行+一行命令行
set ruler # 在状态栏显示光标的当前位置（位于哪一行哪一列）。
set bg=dark # 背景颜色
set hlsearch # 高亮度反白
set incsearch
set clipboard+=unnamed # 共享剪贴板
set fillchars=vert:\ ,stl:\ ,stlnc:\ # 在被分割的窗口间显示空白，便于阅读
set showmatch # 高亮显示匹配的括号
set matchtime=1 # 匹配括号高亮的时间（单位是十分之一秒）
set scrolloff=3 # 光标移动到 buffer 的顶部和底部时保持 3 行距离
set virtualedit=block,onemore # 允许光标出现在最后一个字符的后面

#######################################################################
## 代码缩进与排版
#######################################################################
set autoindent # 按下回车键后，下一行缩进会自动和上一行的缩进保持一致
set tabstop=4 # 按下 tab 键时 vim 显示的空格数
set shiftwidth=4 # 在文本上按下&gt;&gt;（增加一级缩进）、&lt;&lt;（取消一级缩进）或者==（取消全部缩进）时，每一级的字符数。
set expandtab # 自动将 tab 转化为空格
set softtabstop=4 # tab 转化为多少个空格
set smartindent # 为 C 程序提供自动缩进
set cinoptions=g0,:0,N-s,(0 # 设置使用 C/C++语言的具体缩进方式
set smarttab # 在行和段开始处使用制表符
filetype indent on # 自适应不同语言的智能缩进

#######################################################################
## 代码补全
#######################################################################

set wildmenu # vim 自身命令行模式智能补全
set completeopt-=preview # 补全时不显示窗口，只显示补全列表

####################################################################### #代码折叠
#######################################################################
set foldmethod=syntax #设置基于语法进行代码折叠
set nofoldenable #关闭代码折叠

#######################################################################

# 缓存设置 保留 撤销 操作历史

#######################################################################
set nobackup # 从不备份
set noswapfile # 禁止生成临时文件
set autoread # 设置当文件被改动时自动载入
set confirm # 在处理未保存或只读文件的时候，弹出确认
set history=1000 # 设置历史记录条数

#######################################################################
## 编码设置
#######################################################################
set encoding=utf-8 #编码
set fencs=utf-8,ucs-bom,shift-jis,gb18030,gbk,gb2312,cp936
set langmenu=zh_CN.UTF-8 #语言设置

#######################################################################

# 优化设置

####################################################################### #映射 esc 键为 jj
inoremap jj &lt;Esc&gt;

#######################################################################

# vim-plug

#######################################################################
#call plug#begin(&#x27;~/.vim/plugged&#x27;)

# nerdtree

#Plug &#x27;scrooloose/nerdtree&#x27;,{&#x27;on&#x27;:&#x27;NERDTreeToggle&#x27;} ##快速打开大文件
#Plug &#x27;vim-scripts/LargeFile&#x27;
#Plug &#x27;itchyny/lightline.vim&#x27;
#Plug &#x27;neoclide/coc.nvim&#x27;, {&#x27;branch&#x27;: &#x27;release&#x27;}
#call plug#end()
</p></a></article><article class="border rounded p-4"><a href="/posts/yum"><h2 class="text-xl font-semibold">yum dnf</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年7月29日星期六</time></div><a href="/posts/yum"><p class="line-clamp-2">
# 清除系统yum缓存，并重新生成新的yum缓存
```bash
dnf -y install epel-release
dnf clean all
dnf makecache
dnf repolist
```
</p></a></article><article class="border rounded p-4"><a href="/posts/wsl"><h2 class="text-xl font-semibold">wsl</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年7月29日星期六</time></div><a href="/posts/wsl"><p class="line-clamp-2">
# wsl2 安装

## 设置版本

1、默认安装 Linux 时是第一代 WSL，要在以后安装 Linux 的时候默认启用 WSL2，在 Windows PowerShell 中运行命令：
wsl --set-default-version 2

2、如果已经安装了 Linux 系统并且是第一代，可以升级到 WSL2。同样，WSL2 也可以降级到 WSL1。
wsl -l -v #查看已安装 Linux 版本和名称，完整命令格式：wsl --list --verbose

wsl --set-version Ubuntu 2 #升级到 WSL2，其中 Ubuntu 是已经安装的 Linux 名称，命令格式：wsl --set-version &lt;Distro&gt; &lt;Version&gt;

## 默认安装

wsl install

## 自定义安装

下载镜像到安装目录
https://wslstorestorage.blob.core.windows.net/wslblob/Ubuntu2204-221101.AppxBundle
解压后打开 ubuntu.exe

关机操作，在 powershell 中执行以下命令来关闭某一个 linux 发行版：

## 使用

wsl --terminate &lt;发行版名称&gt;
wsl --list --verbose 查看发行版运行状态
或者关闭所有发行版：

wsl --shutdown

### 卸载镜像

wsl --list，查看你安装的版本，然后输入 wsl --unregister &lt;要卸载的发行版&gt;，之后删掉目录下的那个子系统就可以了

## 导出备份

1. 在 Windows PowerShell 中输入如下命令

```powershell
wsl -l --all -v
```

2. 导出分发版为 tar 文件到 d 盘(如果你只是备份，那么下面的到第二步就可以了)

```powershell
    wsl --export Ubuntu E:\wsl-ubuntu.tar
```

3. 注销当前分发版
```powershell
wsl --unregister Ubuntu-20.04
```

4. 重新导入并安装WSL在d:wsl-ubuntu20.04（迁移/还原到其他目录）

wsl --import &lt;Distribution Name&gt; &lt;InstallLocation&gt; &lt;FileName&gt; --version 2 (代表wsl2)
```powershell
wsl --import Ubuntu e:wsl-ubuntu.tar e:wsl-ubuntu20.04.tar --version 2
```
5.删除tar文件(可选)
```powershell
del d:wsl-ubuntu.tar
```

## 配置clash

```bash
New-NetFirewallRule -DisplayName &quot;WSL&quot; -Direction Inbound  -InterfaceAlias &quot;vEthernet (WSL)&quot;  -Action Allow
```

```sh
#!/bin/sh

# 注意：这个 ip 地址和我们在 windows 中通过 ipconfig 获取的地址等价
hostip=$(cat /etc/resolv.conf | grep nameserver | awk &#x27;{ print $2 }&#x27;)
# WSL 自身的 ip
wslip=$(hostname -I | awk &#x27;{print $1}&#x27;)
# Windows 上代理软件监听的端口，河对岸为 10808，注意要选中河对岸的 &quot;Allow connections from the LAN&quot;
port=7890

# 注意代理有两种方式，一种基于 http，一种基于 socket5，河对岸是基于 socket5 的
#PROXY_HTTP=&quot;socks5://${hostip}:${port}&quot;
PROXY_HTTP=&quot;http://${hostip}:${port}&quot; # 如果是基于 http 的代理，则使用该命令

# 开启代理
set_proxy(){
    export http_proxy=&quot;${PROXY_HTTP}&quot;
    export HTTP_PROXY=&quot;${PROXY_HTTP}&quot;
    
    export https_proxy=&quot;${PROXY_HTTP}&quot;
    export HTTPS_proxy=&quot;${PROXY_HTTP}&quot;
    
    export ALL_PROXY=&quot;${PROXY_HTTP}&quot;
    export all_proxy=&quot;${PROXY_HTTP}&quot;
    
    # 配置 git 的代理
    git config --global http.https://github.com.proxy ${PROXY_HTTP}
    git config --global https.https://github.com.proxy ${PROXY_HTTP}
    
    echo &quot;Proxy has been opened.&quot;
}

# 关闭代理
unset_proxy(){
    unset http_proxy
    unset HTTP_PROXY
    unset https_proxy
    unset HTTPS_PROXY
    unset ALL_PROXY
    unset all_proxy
    git config --global --unset http.https://github.com.proxy
    git config --global --unset https.https://github.com.proxy
    
    echo &quot;Proxy has been closed.&quot;
}

# 测试代理是否开启成功
test_setting(){
    echo &quot;Host IP:&quot; ${hostip}
    echo &quot;WSL IP:&quot; ${wslip}
    echo &quot;Try to connect to Google...&quot;
    resp=$(curl -I -s --connect-timeout 5 -m 5 -w &quot;%{http_code}&quot; -o /dev/null www.google.com)
    if [ ${resp} = 200 ]; then
        echo &quot;Proxy setup succeeded!&quot;
    else
        echo &quot;Proxy setup failed!&quot;
    fi
}

# 根据我们的输入来执行代理的开启、关闭和测试过程
if [ &quot;$1&quot; = &quot;set&quot; ]
then
    set_proxy
elif [ &quot;$1&quot; = &quot;unset&quot; ]
then
    unset_proxy
elif [ &quot;$1&quot; = &quot;test&quot; ]
then
    test_setting
else
    echo &quot;Unsupported arguments.&quot;
fi

```

```sh
vim ~/.bashrc
# proxy alias
alias proxy=&quot;source /etc/scripts/proxy.sh&quot;
source ~/.bashrc

```</p></a></article><article class="border rounded p-4"><a href="/posts/nala"><h2 class="text-xl font-semibold">nala</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年7月29日星期六</time></div><a href="/posts/nala"><p class="line-clamp-2"># Nala介绍 [^1]
Nala 包管理器的关键功能之一是nala History命令，它改变了我个人对在 APT 上使用它的想法，它类似于您在基于 RedHat 的系统（如Fedora）中找到的dnf History命令。
该命令在/var/lib/nala/history.jsonnala history中记录每个事务的日志，稍后可用于撤消或重做更改。

## 在 Linux 上安装 Nala

### 从官方存储库安装 Nala [Debian12]
如果系统运行的是Debian12, Ubuntu 22.04 或 Ubuntu-derviaties，您可以通过执行如下所示的一行命令来快速安装 Nala：
```bash
sudo apt install nala
```

### 添加自定义存储库[推荐]

这是在运行旧版本 Ubuntu 或 Debian 的计算机上安装 Nala 的首选且最简单的方法，因此您所要做的就是按照下面列出的步骤按列出的顺序进行操作。

将以下命令复制并粘贴到系统的终端中以添加Volian Scar 存储库，稍后您可以从中安装 Nala。
```bash
echo &quot;deb [arch=amd64,arm64,armhf] http://deb.volian.org/volian/ scar main&quot; | sudo tee /etc/apt/sources.list.d/volian-archive-scar-unstable.list
```
接下来，添加GPG密钥进行验证，如下所示：
```bash 
wget -qO - https://deb.volian.org/volian/scar.key | sudo tee /etc/apt/trusted.gpg.d/volian-archive-scar-unstable.gpg &gt; /dev/null
```
对于 Ubuntu 22.04/Debian 及更高版本，您需要执行以下命令，这将首先更新您的系统存储库，然后安装nala。
```bash
sudo apt update &amp;&amp; sudo apt install nala -y
```
如果您使用的是 Ubuntu 21.04 或 Debian Stable 等旧版本，那么您应该调用以下命令，该命令将安装： nala-legacy
```bash
sudo apt update &amp;&amp; sudo apt install nala-legacy
```

### 使用 Pacstall 安装 Nala 包管理器
### 使用 Debian 软件包安装 Nala 软件包管理器
如果您不喜欢上述方法，那么您还可以[下载](https://gitlab.com/volian/nala/-/releases)“deb”包并使用apt或dpkg命令在本地安装，无需互联网连接。

从发布页面下载软件包后，您可以执行以下任意命令来安装 Nala：
```bash
sudo apt install /path/to/nala_version_arch.deb
#OR
sudo dpkg -i /path/to/nala_version_arch.deb
sudo apt install -f
```

[^1]:https://trendoceans.com/nala-package-manager/</p></a></article><article class="border rounded p-4"><a href="/posts/sql"><h2 class="text-xl font-semibold">Sql</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年6月23日星期五</time></div><a href="/posts/sql"><p class="line-clamp-2"># 数据库知识点整理
## 1. 基础
函数依赖的概念：设$R&lt;U&gt;$是属性集$U$上的关系模式，$X,Y \subseteq U$，若对于$R&lt;U&gt;$的任意一个可能关系$r$，$r$中有两个元组$t_1$和$t_2$，若$t_1[X]=t_2[X]$，则必有$t_1[Y]=t_2[Y]$，则称$Y$函数依赖于$X$，记作$X \rightarrow Y$。
&gt; x唯一决定元组时，y函数依赖于x

在$R&lt;U&gt;$中，如果$X \rightarrow Y$，并且对于$X$的任意一个真子集$X&#x27;$，都有$X&#x27; \nrightarrow Y$，则称$Y$对$X$完全函数依赖，记作：$X \xrightarrow{F}Y$；若$X \rightarrow Y$，但是$Y$不完全函数依赖于$X$，则称$Y$对$X$部分函数依赖，记作：$X \xrightarrow{P} Y$。

在$R&lt;U&gt;$中，如果$X \rightarrow Y,\quad (Y \nsubseteq X),Y \nrightarrow X,Y\rightarrow Z$，则称$Z$对$X$传递函数依赖，记作：$X \xrightarrow{传递} Z$。

---

键字=码字，所以 主键=主码=主关键字，候选键=候选码=候选关键字…

1. 码（superkey）：即能唯一标识元组的属性或属性组，称为码。
2. 候选码（candidate key）：能够唯一标识一条记录的最小属性集，即不含有多余属性的码称为候选码。
3. 主码（primary key）：某个能够唯一标识一条记录的最小属性集，即在候选码的基础上，选择一个作为主码。
4. 主属性：包含在任一候选码中的属性称为主属性。简单来说，主属性是候选码所有属性的并集。
5. 非主属性：不包含在任一候选码中的属性称为非主属性。

## 2. 范式
1. 第一范式（1NF）：关系模式$R$，其所有属性不可再分，即属性不可再分成更小的属性。
2. 第二范式（2NF）：$R \in 1NF$,且每一个非主属性完全依赖于码，而不能部分依赖于码。
3. 第三范式（3NF）：$R \in 2NF$,且非主属性不传递依赖于码。
4. BCNF：在第三范式的基础上，消除主属性对候选码的部分函数依赖。</p></a></article><article class="border rounded p-4"><a href="/posts/xifalu"><h2 class="text-xl font-semibold">Xifalu</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月19日星期五</time></div><a href="/posts/xifalu"><p class="line-clamp-2">
## 去屑杀菌剂
- 水杨酸 加速头皮的一些废旧物质的脱落
- 吡罗克酮乙醇胺盐
- 吡硫鍮錦（ZPT）（有风险）
- 吡硫鎓锌
- 氯咪巴唑

- 酮康唑洗剂、
- 二硫化硒洗剂、
- 煤焦油洗剂

## 防腐剂
- 甲基异噻唑啉酮
- 甲基氯异噻唑啉酮
- DMDM 乙内酰脲
- 咪唑烷基脲</p></a></article><article class="border rounded p-4"><a href="/posts/matlab"><h2 class="text-xl font-semibold">matlab</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月17日星期三</time></div><a href="/posts/matlab"><p class="line-clamp-2">
# Matlab技巧

## 1. Matlab打开命令行窗口
```matlab
matlab -nosplash -nodesktop
```


## 2. Matlab命令行运行脚本
运行当前目录demo.m文件
```matlab
matlab -nosplash -nodesktop -sd g:\wk -r &quot;run(&#x27;.\demo.m&#x27;);&quot;
```</p></a></article><article class="border rounded p-4"><a href="/posts/assemble"><h2 class="text-xl font-semibold">汇编</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月17日星期三</time></div><a href="/posts/assemble"><p class="line-clamp-2"># 常见寄存器
|寄存器     | 16位     | 32位     |  64位     |
| -------- | -------- | -------- |-------- |
| 累加寄存器 | AX | EAX | RAX |
| 基址寄存器 | BX | EBX | RBX |
| 计数寄存器 | CX | ECX| RCX |
| 数据寄存器 | DX | EDX | RDX |
| 堆栈基指针 | BP | EBP | RBP |
| 变址寄存器 | SI | ESI | RSI |
| 堆栈顶指针 | SP | ESP | RSP |
| 指令寄存器 | IP | EIP | RIP |
# 汇编指令
## mov
- movb（8位）、movw（16位）、movl（32位）、movq（64位）</p></a></article><article class="border rounded p-4"><a href="/posts/rust"><h2 class="text-xl font-semibold">Rust</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月17日星期三</time></div><a href="/posts/rust"><p class="line-clamp-2">
## rustup
### 相关概念
rustup 将 rustc 和 cargo等工具安装在 Cargo 的 bin 目录（Unix系统在$HOME/.cargo/bin，Windows系统在%USERPROFILE%\.cargo\bin），但这些工具只是 Rust 工具链中组件的代理，真正工作的是工具链中的组件。通过 rustup 的命令可以指定使用不同版本的工具链。


与 rustup 相关的概念：
- channel —— Rust 发布在三个不同的&quot;channel&quot;上：stable，beta 和 nightly，其实就是三种不同的版本。
- toolchain —— 一套 Rust 组件，包括编译器及其相关工具，并且包含 channel，版本及支持的平台信息。
- target —— 指编译的目标平台，即：编译后的程序在哪种操作系统上运行。
- component —— toolchain 是由 component 组成的。
- profile —— 为了方便对 component 进行管理，使用 profile 定义一组 component。

### Channels
Rust 发布在三个不同的&quot;channel&quot;上：

- stable版本 —— Rust 的稳定版本，每 6 周发布一次。
- beta版本 —— Rust 的公开测试版本，将是下一个stable版本。
- nightly版本 —— 每天更新，包含以一些实验性的新特性。
通过 rustup 相关命令可以选择使用不同版本的 Rust，默认安装的是 stable 版本。

```bash
# 切换到其他版本
rustup default stable/nightly/beta

```

### Toolchains
工具链的标准命名格式：
```bash
&lt;channel&gt;[-&lt;date&gt;][-&lt;host&gt;]

&lt;channel&gt;       = stable|beta|nightly|&lt;version&gt;
&lt;date&gt;          = YYYY-MM-DD
&lt;host&gt;          = &lt;target-triple&gt;
```
工具链默认被安装在RUSTUP_HOME （Unix系统：~/.rustup ，Windows系统：%USERPROFILE%/.rustup）目录下。

```bash
# 查看所有工具链
rustup toolchain list

```
### Components
工具链由若干组件构成，通过 rustup component list 命令可以查看所有可用和已经安装的组件。

rustup 默认安装的组件：

- rustc — Rust 编译器。
- rust-std — Rust 标准库。
- cargo — 包管理和构建工具，类似于 Java 的 Maven 和 Gradle。
- rust-docs — Rust 文档。
- rustfmt — 用来格式化 Rust 源代码。
- clippy — Rust 的代码检查工具。

### Profiles
为了方便对 component 进行管理，使用 profile 定义一组 component。rustup 默认提供了三个 profile：
| Profile | Components |
| :--- | :--- |
| default | rustc, rust-std, cargo, rust-docs |
| minimal | rustc, rust-std, cargo |
| complete | rustc, rust-std, cargo, rust-docs, rustfmt, clippy |
可以使用rustup set profile命令修改profile，比如：rustup set profile minimal
```bash
# 切换到minimal profile
rustup set profile minimal

```

## cargo使用

常用的cargo命令
- 使用 cargo new 创建项目
- 使用 cargo run 构建并运行项目
- 使用 cargo check 快速检查代码是否可以通过编译
- 使用 cargo build 构建项目

主要命令详解
build, b    构建当前包
check, c    分析当前包并报告错误，但不构建目标文件
clean       删除构建的目录
doc, d      构建当前包及其依赖项目的文档（会创建 `target/doc` 目录，使用浏览器打开可以查看详细的文档）
new         创建一个新的包
init        在现有目录中创建一个新的包
add         添加依赖项到当前项目中
remove      从当前项目中删除依赖项
run, r      构建并运行项目
test, t     运行测试
bench       运行基准测试
update      更新在 Cargo.lock 注册的依赖项版本
search      搜索 crates
publish     打包并上传当前包 （crates.io）
install     安装 Rust 二进制文件，默认目录在 $HOME/.cargo/bin
uninstall   卸载 Rust 二进制文件
再补充几个 cargo 的重要子命令:

cargo clippy: 类似eslint，lint工具检查代码可以优化的地方
cargo fmt: 类似go fmt，代码格式化
cargo tree: 查看第三方库的版本和依赖关系
cargo bench: 运行benchmark(基准测试,性能测试)
cargo udeps(第三方): 检查项目中未使用的依赖

```bash
# 创建项目
cargo new hello_cargo

cd hello_cargo

```

```bash
# 编译并运行项目(debug)
cargo run hello_cargo

# release模式
cargo run --release mytest

# 编译项目(release)
cargo build --release
```
在开发过程中，如果只是想快速检查代码是否通过编译，而不需要实际编译可执行文件，可以使用下面这个命令：
```bash
cargo check
```
</p></a></article><article class="border rounded p-4"><a href="/posts/scoop"><h2 class="text-xl font-semibold">Scoop</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月14日星期日</time></div><a href="/posts/scoop"><p class="line-clamp-2"># scoop安装

## 设置scoop安装目录
```powershell
$env:SCOOP=&#x27;D:\ProgramData\scoop&#x27;
# 先添加用户级别的环境变量 SCOOP
[environment]::setEnvironmentVariable(&#x27;SCOOP&#x27;,$env:SCOOP,&#x27;User&#x27;)
```
## 安装scoop
```powershell
# 然后下载安装 Scoop （如果使用默认安装路径则直接运行下面的命令）
iex (new-object net.webclient).downloadstring(&#x27;https://get.scoop.sh&#x27;)
# 或者使用下面的命令安装：
iwr -useb get.scoop.sh | iex
```


## 配置全局安装目录
```powershell
$env:SCOOP_GLOBAL=&#x27;D:\ProgramData\globalapps&#x27;
[environment]::setEnvironmentVariable(&#x27;SCOOP_GLOBAL&#x27;,$env:SCOOP_GLOBAL,&#x27;Machine&#x27;)
```</p></a></article><article class="border rounded p-4"><a href="/posts/androidkey"><h2 class="text-xl font-semibold">androidkey</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/androidkey"><p class="line-clamp-2">1.jks 转 keystore
先生成.p12 文件，用 p12 生成 keystore。
```bash
keytool -importkeystore -srckeystore targe.jks -srcstoretype JKS -deststoretype PKCS12 -destkeystore targe.p12
keytool -v -importkeystore -srckeystore targe.p12 -srcstoretype PKCS12 -destkeystore targe.keystore -deststoretype JKS
keytool -importkeystore -srckeystore androidkey.keystore -destkeystore androidkey.keystore -deststoretype pkcs12
```


2.keystore 转 jks
```bash
keytool -importkeystore -srckeystore targe.keystore -srcstoretype JKS -deststoretype PKCS12 -destkeystore targe.p12
keytool -v -importkeystore -srckeystore targe.p12 -srcstoretype PKCS12 -destkeystore targe.jks -deststoretype JKS
```

</p></a></article><article class="border rounded p-4"><a href="/posts/ffmpeg"><h2 class="text-xl font-semibold">ffmpeg</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/ffmpeg"><p class="line-clamp-2">

- [FFmpeg安装使用指南](#ffmpeg安装使用指南)
  - [1.安装](#1安装)
    - [1.1 Windows下安装FFmpeg](#11-windows下安装ffmpeg)
  - [2.使用](#2使用)
    - [2.1 识别视频信息,通过ffprobe命令识别并输出视频信息](#21-识别视频信息通过ffprobe命令识别并输出视频信息)
    - [2.2 视频压缩](#22-视频压缩)
    - [ffmpeg添加字幕文件](#ffmpeg添加字幕文件)
  - [1 字幕格式转换](#1-字幕格式转换)

&lt;!-- /code_chunk_output --&gt;
# FFmpeg安装使用指南
## 1.安装
### 1.1 Windows下安装FFmpeg
&gt; 访问[FFmpeg](https://ffmpeg.org/)guan官网下载，完成安装
***
## 2.使用
### 2.1 识别视频信息,通过ffprobe命令识别并输出视频信息
```console
$ ffprobe -v error -show_streams -print_format json &#x27;xxx.mp4&#x27;
```
### 2.2 视频压缩
```console
$ ffmpeg -i &#x27;xxx.mp4&#x27; -s 1920x1080 -b:v 8500k &#x27;out.mp4&#x27;
```
&gt;注意：

&gt;&gt;我们主要关注的部分: -s (输出视频分辨率，尺寸) ； -b（输出视频的清晰度）


&gt;&gt;-i ：后面跟着一个xxx.mp4，是我们即将要压缩的源视频文件当然也可以用绝对路径或者相对路径。

&gt;&gt;-s ：后面写的是1920x1080，对应的是我们目标视频文件分辨率，注意中间的是字母 x（艾克斯），不是乘号（✖）。一般分辨率可以按照自己想法设置。

&gt;&gt;-b:v : 码率，数据传输时单位时间传送的数据位数，这个参数影响着视频的清晰度，我这里使用的分辨率是1920x1080，码率设置为 8500k，具体大小主要根据所选视频的分辨率自行选择, 参考这位大佬的分辨率与码率的对照表 ，然后可以根据自己的需要调整自己的码率大小 。

&gt;&gt;有一些没有用到的参数：

&gt;&gt;-r : 视频每秒的帧数，虽然说减少每秒视频的帧数也可以起到压缩视频的大小，但我不用他的原因是因为在一些切换画面比较快速和频繁的情况下，减少帧数会导致视频卡顿的视觉感受，一般我不会少于25帧/s。

&gt;&gt;-qscale: 质量为基础的VBR，网上说取值0.01-255。（但好像导出默认就是VBR，我试着调节了一下参数，对文件大小影响并不是很大，所以也没有去选择这一个，还是用的 -b:v 这个参数）

&gt;&gt;-sameq 使用和源同样的质量（没试过，用不到）

&gt;示例：1920x1080 25帧/s的视频压缩，使用的命令：
```console
$ ffmpeg -i &#x27;xxx.mp4&#x27; -r 25 -s 1920x1080 -b:v 8500k &#x27;x.mp4&#x27;
```
### ffmpeg添加字幕文件

## 1 字幕格式转换
```console
ffmpeg -i &quot;test_x.srt&quot; &quot;test_x.vtt&quot;
ffmpeg -i &quot;test_x.srt&#x27; &#x27;test_x.ass&quot;
```


3.1. 查询命令
查询所下载的ffmpeg是否支持cuda，若是不支持（我下载的是支持的），那从新下载一下或者自行编译。bash

ffmpeg -hwaccels


查看支持 cuda 的编码器
执行 ffmpeg -codecs | findstr cuvid or ffmpeg -codecs | grep cuvid(linux)
所有带有&quot;cuvid&quot;或&quot;nvenc&quot;的，都是CUDA提供的GPU编解码器


开始转码
执行ffmpeg -i &lt;input&gt; -vcodec h264_nvenc &lt;output&gt;
-vcodec 表示指定 视频编码器，只要指定了支持 GPU 加速的编码器，FFMPEG 就会自动使用 GPU

使用GPU进行视频转码
用GPU进行转码的命令和软转码命令不太一样，CPU转码的时候，我们可以依赖ffmpeg识别输入视频的编码格式并选择对应的解码器，但ffmpeg只会自动选择CPU解码器，要让ffmpeg使用GPU解码器，必须先用ffprobe识别出输入视频的编码格式，然后在命令行中指定对应的GPU解码器。

例如，将h264编码的源视频转码为指定尺寸和码率的h264编码视频：

ffmpeg -hwaccel cuvid -c:v h264_cuvid -i &lt;input&gt; -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y &lt;output&gt;
-hwaccel cuvid：指定使用cuvid硬件加速
-c:v h264_cuvid：使用h264_cuvid进行视频解码
-c:v h264_nvenc：使用h264_nvenc进行视频编码
-vf scale_npp=1280:-1：指定输出视频的宽高，注意，这里和软解码时使用的-vf scale=x:x不一样
转码期间使用nvidia-smi查看显卡状态，能够看到ffmpeg确实是在使用GPU进行转码：
作者：kelgon
链接：https://www.jianshu.com/p/59da3d350488


ffmpeg并不具备自动向不同GPU分配转码任务的能力，但经过一番调查后，发现可以通过-hwaccel_device参数指定转码任务使用的GPU！

向不同GPU提交转码任务
ffmpeg -hwaccel cuvid -hwaccel_device 0 -c:v h264_cuvid -i &lt;input&gt; -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y &lt;output&gt;
ffmpeg -hwaccel cuvid -hwaccel_device 1 -c:v h264_cuvid -i &lt;input&gt; -c:v h264_nvenc -b:v 2048k -vf scale_npp=1280:-1 -y &lt;output&gt;
-hwaccel_device N：指定某颗GPU执行转码任务，N为数字


# ffmpeg添加字幕文件

## 1 字幕格式转换
```console
ffmpeg -i &quot;test_x.srt&quot; &quot;test_x.vtt&quot;
ffmpeg -i &quot;test_x.srt&#x27; &#x27;test_x.ass&quot;
```


## 2 添加软字幕 

### 2.1 添加软字幕
```console
ffmpeg -i &#x27;xxx.mkv&#x27; -vf subtitles=&#x27;xxx.srt&#x27; -c copy output.mkv
```
&gt;tips：软字幕只有部分容器格式比如(mkv)才支持，MP4/MOV等不支持，而且也只有部分播放器支持软字&gt;幕或者外挂字幕(如VLC播放器)

### 2.2 添加硬字幕
```console
ffmpeg -i &#x27;xx.mp4&#x27; -vf subtitles=&#x27;xx.srt&#x27; output.mp4 //有解码过程
```


添加字幕 
理论上这样就ok了，可以加src lrc ass等字幕文件

但是，实际运用当中，下面这种就会报错

ffmpeg -i input.mp4 -vf subtitles= D:/字幕文件/subtitle.srt output.mp4
因为路径中出现了盘符 即D:这种，所以正确(能用)的写法应该是下面这样

ffmpeg -i input.mp4 -vf subtitles= /字幕文件/subtitle.srt output.mp4
但这种写法也只是勉强能用 需要字幕文件在同一硬盘中

所以最终方案如下

ffmpeg  -i  D:\项目\视频处理\mix\拼接\侧脸-于果.mp4 -i F:\音乐mv\歌曲\侧脸-于果.mp3 -vf subtitles=\&#x27;F:/音乐mv/歌曲/侧脸-于果.lrc\&#x27; -y D:\项目\视频处理\mix\成品\侧脸-于果.mp4
可以看到视频路径 音频路径都是正常的路径 但是字幕路径需要是正斜杠/,而且必须用单引号引起来，而且要用反斜杠转义\

这个命令在cmd下就可以正常跑了，但在其他语音环境下，如python 需要再加一层反斜杠，即

cmdLine=&quot;ffmpeg  -i  D:\项目\视频处理\mix\拼接\侧脸-于果.mp4 -i F:\音乐mv\歌曲\侧脸-于果.mp3 -vf subtitles=\\&#x27;F:/音乐mv/歌曲/侧脸-于果.lrc\\&#x27; -y D:\项目\视频处理\mix/成品/侧脸-于果.mp4&quot;
subprocess.call(cmdLine, shell=True)</p></a></article><article class="border rounded p-4"><a href="/posts/mkcert"><h2 class="text-xl font-semibold">mkcert</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/mkcert"><p class="line-clamp-2"># mkcert
```bash
mkcert -isntall
mkcert 127.0.0.1 localhost ::1
openssl pkcs12 -export -inkey ./127.0.0.1-key.pem -in ./127.0.0.1.pem -name 127.0.0.1 -out 127.0.0.1.p12
keytool -importkeystore -srckeystore 127.0.0.1.p12 -srcstoretype pkcs12 -destkeystore 127.0.0.1.jks
```
</p></a></article><article class="border rounded p-4"><a href="/posts/nginx"><h2 class="text-xl font-semibold">Test</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/nginx"><p class="line-clamp-2"># nginx命令
```bash
nginx #启动
nginx -s reload # 重新载入配置文件
nginx -s reopen # 重启 Nginx
nginx -s stop # 停止 Nginx

location / {
root /var/ftp/pub/;
autoindex on; # 显示目录
autoindex_exact_size off; # 显示文件大小 #默认为 on 显示出文件的确切大小，单位是 bytes
　　　　　　　　　 #改为 off 后，显示出文件的大概大小，单位是 kB 或者 MB 或者 GB
autoindex_localtime on; # 显示文件时间 #默认为 off，显示的文件时间为 GMT 时间 #改为 on 后，显示的文件时间为文件的服务器时间
charset utf-8,gbk; #解决中文乱码问题
}
```</p></a></article><article class="border rounded p-4"><a href="/posts/exe-sign"><h2 class="text-xl font-semibold">exe文件签名</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/exe-sign"><p class="line-clamp-2">
[参考](https://learn.microsoft.com/zh-cn/powershell/module/pki/new-selfsignedcertificate?view=windowsserver2019-ps)

```shell
New-SelfSignedCertificate -Type Custom -Subject &quot;CN=Ling Yu, O=None, C=CN, L=, S=&quot; -KeyUsage DigitalSignature -FriendlyName &quot;MailTool&quot; -CertStoreLocation &quot;Cert:\CurrentUser\My&quot; -TextExtension @(&quot;2.5.29.37={text}1.3.6.1.5.5.7.3.3&quot;, &quot;2.5.29.19={text}&quot;) -NotAfter (Get-Date).AddYears(10) # 会显示Thumbprint

# 设置密码
$password = ConvertTo-SecureString -String 928963415 -Force -AsPlainText

# 导出证书
Export-PfxCertificate -cert &quot;Cert:\CurrentUser\My\&lt;Thumbprint&gt;&quot; -FilePath app.pfx -Password $password

# 签名
signtool sign /f test.pfx /fd SHA256 /p $password /t http://timestamp.digicert.com /v &quot;&lt;obj&gt;.exe&quot;
```
</p></a></article><article class="border rounded p-4"><a href="/posts/fileicon"><h2 class="text-xl font-semibold">windows文件夹图标</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/fileicon"><p class="line-clamp-2"># windows文件夹图标设置


假设我要将系统盘根目录下的Boot.ini系统文件一些属性去掉，则在命令提示符中输入
```powershell
attrib -s -h -r C:\Boot.ini 
```

按Enter键确定。这时你会发现在C盘根目录下的这个文件变成了常规文件保存时的形式了。如果想

还原回去的话只需输入


```powershell
attrib +s +h +r C:\Boot.ini 
```

按Enter键即可。（注意命令中的空格）这其实是一个DOS命令，如果对这个命令想了解更多的用法

attrib +s +h 文件名.ico”可将ico文件设置为“受系统保护并隐藏”，这样就能可以像desktop.ini文件一样看不见了</p></a></article><article class="border rounded p-4"><a href="/posts/kms"><h2 class="text-xl font-semibold">kms</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/kms"><p class="line-clamp-2">## kms服务器

德国 http://kms9.MSGuides.com
美国 https://kms.loli.beer/
https://kms.luochenzhimu.com/

## office激活指南

### 1. Office Tool Plus 激活

### cmd激活
```powershell
cd  &quot;C:\Program Files\Microsoft Office\Office16&quot;
# cd &quot;C:\Program Files (x86)\Microsoft Office\Office16&quot;

cscript ospp.vbs /inpkey:XQNVK-8JYDB-WJ9W3-YJ8YR-WFG99 # 安装/替换现有的产品密钥
cscript ospp.vbs /sethst:kms.0t.net.cn  # 设置KMS主机名
cscript ospp.vbs /setprt:1688 # 设置KMS主机端口
cscript ospp.vbs /act  # 连接到KMS服务器进行激活
cscript ospp.vbs /dstatus  # 显示当前已安装产品密钥的许可证信息


```

&gt; 激活失败，请确认
- 是否以管理员身份运行的cmd
- office2021的版本是否是vl版，如果是零售版转换到VL版
- office365不支持KMS激活

**office2021零售版转VL版命令**
```powershell
cd  &quot;C:\Program Files\Microsoft Office\Office16&quot;
for /f %x in (&#x27;dir /b ..\root\Licenses16\ProPlus2021VL_KMS*.xrm-ms&#x27;) do cscript ospp.vbs /inslic:&quot;..\root\Licenses16\%x&quot;
```

| Office2021 | 各版本KMS序列号 |
| :----:| :----: |
|Product |GVLK|
|Office LTSC 专业增强版 2021|	FXYTK-NJJ8C-GB6DW-3DYQT-6F7TH |
|Office LTSC 标准版 2021|	KDX7X-BNVR8-TXXGX-4Q7Y8-78VT3 |
|Project Professional 2021 年 1 月	|FTNWT-C6WBT-8HMGF-K9PRX-QV9H8|
|Project Standard 2021|	J2JDC-NJCYY-9RGQ4-YXWMH-T3D4T |
|VisioLTSC Professional 2021	|KNH8D-FGHT4-T8RK3-CTDYJ-K2HT4 |
|VisioLTSC Standard 2021	|MJVNY-BYWPY-CWV6J-2RKRT-4M8QG |
|Access LTSC 2021	|WM8YG-YNGDD-4JHDC-PG3F4-FC4T4 |
|ExcelLTSC 2021|	NWG3X-87C9K-TC7YY-BC2G7-G6RVC |
|OutlookLTSC 2021	|C9FM6-3N72F-GFJXB-TM3V9-T86R9 |
|PowerPointLTSC 2021	|TY7XF-NFRBR-KJ44C-G83KF-GX27K |
|PublisherLTSC 2021	|2MW9D-N4BXM-9VBPG-Q7W6M-KFBGQ |
|Skype for BusinessLTSC 2021	|HWCXN-K3WBT-WJBKY-R8BD9-XK29P |
|Word LTSC 2021	|TN8H9-M34D3-Y64V9-TR72V-X79KV |

## 清除激活信息
```powershell
cd  &quot;C:\Program Files\Microsoft Office\Office16&quot;
cscript ospp.vbs /dstatus # 回车，查看激活秘钥秘钥后5位
cscript ospp.vbs /unpkey:&lt;XXXXX&gt;  # 回车（X代表秘钥后5位）
cscript ospp.vbs /remhst # 回车，刷新激活状态
cscript ospp.vbs /dstatus # 回车，重新查看激活状态
```
&gt; 若有多个秘钥需要卸载可重复上述步骤</p></a></article><article class="border rounded p-4"><a href="/posts/startup"><h2 class="text-xl font-semibold">Windows启动项</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/startup"><p class="line-clamp-2"># 注册表windows启动项位置
（1）计算机\HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run

（2）计算机\HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows\CurrentVersion\Run

（3）计算机\HKEY_LOCAL_MACHINE\SOFTWARE\WOW6432Node\Microsoft\Windows\CurrentVersion\Run

</p></a></article><article class="border rounded p-4"><a href="/posts/windows-activate"><h2 class="text-xl font-semibold">windows-active-key</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年5月10日星期三</time></div><a href="/posts/windows-activate"><p class="line-clamp-2">
2、通过微软的免费升级计划升级到Windows 10的家庭版或者专业版的激活密钥是下面这两个不要换成其他：
Windows 10 专业版：

VK7JG-NPHTM-C97JM-9MPGT-3V66T （统一密钥，仅供升级用户使用）

W269N-WFGWX-YVC9B-4J6C9-T83GX

NYW94-47Q7H-7X9TT-W7TXD-JTYPM

NJ4MX-VQQ7Q-FP3DB-VDGHX-7XM87

MH37W-N47XK-V7XM9-C7227-GCQG9



Windows 10 家庭版：YTMG3-N6DKC-DKB77-7M9GH-8HVX7（统一密钥，仅供升级用户使用</p></a></article><article class="border rounded p-4"><a href="/posts/endeavouros"><h2 class="text-xl font-semibold">Endeavouros</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年4月23日星期日</time></div><a href="/posts/endeavouros"><p class="line-clamp-2"># 安装win+endeavouros双系统
用live-cd启动进入桌面

查看磁盘
```bash
lsblk -l
lsblk -f # 查看UUID
```

挂载

在挂载时，挂载是有顺序的，先挂载根分区，再挂载 EFI 分区。
```bash
sudo mount /dev/sdax /mnt
# sudo mkdir /mnt/efi # 创建efi目录
sudo mount /dev/sdax /mnt/boot/efi
```

检查磁盘分区，确认Windows的安装位置
```bash
fdisk -l /dev/sdax
```
找到Windows的EFI分区之后，挂载它以确保os-prober可以发现：

```bash
sudo mount /dev/sdax /mnt/win
ls -l /mnt/win
```

生成fstab文件
fstab 用来定义磁盘分区

```bash
genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
```
复查一下 /mnt/etc/fstab 确保没有错误
```bash
cat /mnt/etc/fstab
```

change root
把环境切换到新系统的/mnt下
```bash
arch-chroot /mnt
```

安装引导程序
```bash
pacman -S grub efibootmgr os-prober  # grub是启动引导器，efibootmgr被 grub 脚本用来将启动项写入 NVRAM。os-prober是多系统efi识别
grub-install --target=x86_64-efi --efi-directory=/mnt/boot/efi --bootloader-id=GRUB
```

最后生成 GRUB 所需的配置文件
```bash
grub-mkconfig -o /boot/grub/grub.cfg
```

完成安装
```bash
exit                # 退回安装环境#
sudo umount -R  /mnt     # 卸载新分区
reboot              # 重启

```

# 安装输入法

卸载fcitx4
```bash
sudo pacman -Rs $(pacman -Qsq fcitx)

```

```
sudo pacman -S fcitx5 fcitx5-configtool fcitx5-chinese-addons fcitx5-material-color
```
配置
```bash
vim /etc/environment
GTK_IM_MODULE=fcitx
QT_IM_MODULE=fcitx
XMODIFIERS=@im=fcitx
SDL_IM_MODULE=fcitx
GLFW_IM_MODULE=ibus


# sudo fcitx-autostart
```
</p></a></article><article class="border rounded p-4"><a href="/posts/efi"><h2 class="text-xl font-semibold">Efi</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年4月23日星期日</time></div><a href="/posts/efi"><p class="line-clamp-2"># Windows efi重建
## 部分一：创建EFI分区和MSR分区
先确定EFI分区是否被删除，若没有被删除那么就不需要再创建，继续执行下部分即可

### 步骤1. 在命令提示符中依次输入以下命令并按“enter”运行。
```powershell
diskpart
list disk
select disk 0 # 选择系统安装磁盘
list partition
```
### 步骤2. 若结果没有EFI系统分区，那么需要重新创建，在之前要先删除可能存在的MSR分区，若没有保留分区则跳到步骤3。在步骤1的后面依次执行以下命令并按“enter”运行。
```powershell
select partition 1 # 选择要删除的保留分区，编号1根据实际情况更改
delete partition override # 删除并覆盖分区
list partition
```

### 步骤3. 同样依次执行以下命令并按“enter”运行创建efi分区。
```powershell
select disk 0
create partition efi size=100 # 创建EFI分区
list partition # 罗列创建后的分区列表
select partition 1# 选择新创建的系统分区
format quick fs=fat32 label=&quot;System&quot;
assign letter=G # 分配盘符，盘符可以根据需要设定，后续步骤对应修改即可
```

### 步骤4. 同样依次执行以下命令并按“enter”运行创建MSR分区。
```powershell
create partition msr size=128
list partition
list vol
select vol # 编号根据情况修改
assign letter=C # 盘符可以根据需要设定
exit
```

## 部分3：修复EFI引导加载程序和Windows BCD

方法一：[^1]
假如上面步骤将 Esp分区加载为 G盘
执行 这个命令：
```powershell
bcdboot C:\Windows /s F: /f uefi /l zh-cn
```
解释：用DG等工具先将ESP分区装载为S盘，从系统盘（待修复系统）C:\Windows目录中复制UEFI格式的启动文件到ESP分区中，修复系统。

方法二：[^2]







[^1]:https://zhuanlan.zhihu.com/p/404820401
[^2]:https://www.abackup.com/easybackup-tutorials/win10-del-efi-by-mistake-and-cannot-boot-6540.html</p></a></article><article class="border rounded p-4"><a href="/posts/arch-linux"><h2 class="text-xl font-semibold">Arch Linux</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年4月23日星期日</time></div><a href="/posts/arch-linux"><p class="line-clamp-2"># Arch Linux基础安装
(参考https://archlinuxstudio.github.io/ArchLinuxTutorial/#/rookie/basic_install)
&gt; [官方安装指南](https://wiki.archlinux.org/title/Installation_guide_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87))
## 1.0禁用reflector
reflector 会为你选择速度合适的镜像源，但其结果并不准确，同时会清空配置文件中的内容，对于新人来讲并不适用，我们首先对其进行禁用。
```bash
$ systemctl stop reflector.service
```
## 1.1再次确保是否为 UEFI 模式
```bash
$ ls /sys/firmware/efi/efivars
```
若输出了一堆东西，即 efi 变量，则说明已在 UEFI 模式。否则请确认你的启动方式是否为 UEFI。
## 1.2连接网络
一般来说，你连接的网络几乎均可以通过 DHCP 的方式来进行 IP 地址和 DNS 的相关设置，你无需进行额外操作。在没有合适网络的情况下，使用手机的移动热点也是很方便的选择。如果你的网络环境需要配置静态 IP 和 DNS,请自行参考 Arch Wiki。

对于有线连接来说，直接插入网线即可。

对于无线连接，则需进行如下操作进行网络连接。

无线连接使用 iwctl 命令进行，按照如下步骤进行网络连接：
```bash
iwctl                           #执行iwctl命令，进入交互式命令行
device list                     #列出设备名，比如无线网卡看到叫 wlan0
station wlan0 scan              #扫描网络
station wlan0 get-networks      #列出网络 比如想连接YOUR-WIRELESS-NAME这个无线
station wlan0 connect YOUR-WIRELESS-NAME #进行连接 输入密码即可
exit                            #成功后exit退出
```
可以等待几秒等网络建立链接后再进行下面测试网络的操作。
```bash
$ ping www.gnu.org
```
如果你不能正常连接网络，首先确认系统已经启用网络接口
```bash
$ ip link  #列出网络接口信息，如不能联网的设备叫wlan0
$ ip link set wlan0 up #比如无线网卡看到叫 wlan0
```
如果随后看到类似Operation not possible due to RF-kill的报错，继续尝试rfkill命令来解锁无线网卡。
```bash
$ rfkill unblock wifi
```
## 1.3更新系统时钟
```bash
$ timedatectl set-ntp true    #将系统时间与网络时间进行同步
$ timedatectl status          #检查服务状态
```
## 1.4分区
这里总共设置三个分区，是一个我们认为较为通用的方案。此步骤会清除磁盘中全部内容，请事先确认。

1. EFI 分区[2]： /efi 800M
2. 根目录： / 100G
3. 用户主目录： /home 剩余全部
&gt;这里根目录的大小仅为参考，一般来说个人日常使用的 linux 分配 100G 已经够用了。根目录最小建议不小于 50G，根目录过小会造成无法更新系统软件包等问题。

首先将磁盘转换为 gpt 类型，这里假设比如你想安装的磁盘名称为 sdx。如果你使用 NVME 的固态硬盘，你看到的磁盘名称可能为 nvme0n1。
```bash
lsblk                       #显示分区情况 找到你想安装的磁盘名称
parted /dev/sdx             #执行parted，进入交互式命令行，进行磁盘类型变更
(parted)mktable             #输入mktable
New disk label type? gpt    #输入gpt 将磁盘类型转换为gpt 如磁盘有数据会警告，输入yes即可
quit                        #最后quit退出parted命令行交互
```
接下来使用 cfdisk 命令对磁盘分区。进入 cfdisk 后的操作很直观，用键盘即可操作分配各个分区的大小与格式。一般建议将 EFI 分区设置为磁盘的第一个分区，据说有些主板如果不将 EFI 设置为第一个分区，可能有不兼容的问题。其中 EFI 分区选择EFI System类型，其余两个分区选择Linux filesystem类型。
```bash
cfdisk /dev/nvme0n1px #来执行分区操作,分配各个分区大小，类型
fdisk -l #分区结束后， 复查磁盘情况
```
## 1.5格式化
建立好分区后，需要对分区用合适的文件系统进行格式化。这里用mkfs.ext4命令格式化根分区与 home 分区，用mkfs.vfat命令格式化 EFI 分区。如下命令中的 sdax 中，x 代表分区的序号。格式化命令要与上一步分区中生成的分区名字对应才可以。如果你还是不会操作，可参见配套视频中的详细操作。

磁盘若事先有数据，会提示你: &#x27;proceed any way?&#x27; 按 y 回车继续即可。
```bash
mkfs.ext4  /dev/nvme0n1px            #格式化根目录和home目录的两个分区
mkfs.vfat  /dev/nvme0n1px            #格式化efi分区
```
## 1.6挂载
在挂载时，挂载是有顺序的，先挂载根分区，再挂载 EFI 分区。 这里的 sdax 只是例子，具体根据你的实际情况来。
```bash
mount /dev/sdax  /mnt
mkdir /mnt/efi     #创建efi目录
mount /dev/sdax /mnt/efi
mkdir /mnt/home    #创建home目录
mount /dev/sdax /mnt/home
```
### 1.6.1双系统+windows挂载准备
检查磁盘分区，确认Windows的安装位置
```bash
fdisk -l /dev/sda
```
找到Windows的EFI分区之后，挂载它以确保os-prober可以发现：
```bash
mount /dev/sdax /mnt/win
ls -l /mnt/win
```
## 1.7.镜像源的选择
使用如下命令编辑镜像列表：
```bash
vim /etc/pacman.d/mirrorlist
```
## 1.8安装系统
```bash
pacstrap /mnt base base-devel linux linux-headers linux-firmware ntfs-3g  #base-devel在AUR包的安装是必须的
pacstrap /mnt dhcpcd iwd vim bash-completion   #一个有线所需(iwd也需要dhcpcd) 一个无线所需 一个编辑器 一个补全工具
```
## 1.9生成fstab文件
fstab 用来定义磁盘分区
```bash
genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
```
复查一下 /mnt/etc/fstab 确保没有错误
```bash
cat /mnt/etc/fstab
```
## 1.10change root
把环境切换到新系统的/mnt下
```bash
arch-chroot /mnt
```
## 1.11时区设置
设置时区，在/etc/localtime 下用/usr 中合适的时区创建符号连接。如下设置上海时区。
```bash
ln -sf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime
```
随后进行硬件时间设置，将当前的正确 UTC 时间写入硬件时间。
```bash
hwclock --systohc
```
## 1.12设置Locale进行本地化
Locale 决定了地域、货币、时区日期的格式、字符排列方式和其他本地化标准。

编辑 /etc/locale.gen，去掉 en_US.UTF-8 所在行以及 zh_CN.UTF-8 所在行的注释符号（#）。

然后使用如下命令生成 locale。
```bash
locale-gen
```
向 /etc/locale.conf 导入内容
```bash
echo &#x27;LANG=en_US.UTF-8&#x27;  &gt; /etc/locale.conf
```
## 1.13设置主机名
首先在/etc/hostname设置主机名

vim /etc/hostname
加入你想为主机取的主机名，这里比如叫 myarch。

接下来在/etc/hosts设置与其匹配的条目。
```bash
vim /etc/hosts
```
加入如下内容
```vim
127.0.0.1   localhost
::1         localhost
127.0.1.1   myarch
```
&gt;某些情况下如不设置主机名，在 KDE 下可能会存在网络情况变更时无法启动 GUI 应用的问题，在终端中出现形如No protocol specified qt.qpa.xcb: could not connect to display的错误，这种情况较为少见

## 1.14为root用户设置密码
```bash
passwd root
```
## 1.15安装微码
```bash
pacman -S intel-ucode   #Intel
pacman -S amd-ucode     #AMD
```
## 1.16安装引导程序
```bash
pacman -S grub efibootmgr os-prober  #grub是启动引导器，efibootmgr被 grub 脚本用来将启动项写入 NVRAM。os-prober是多系统efi识别
grub-install --target=x86_64-efi --efi-directory=/efi --bootloader-id=GRUB
```
接下来编辑/etc/default/grub 文件，去掉GRUB_CMDLINE_LINUX_DEFAULT一行中最后的 quiet 参数，同时把 log level 的数值从 3 改成 5。这样是为了后续如果出现系统错误，方便排错。同时在同一行加入 nowatchdog 参数，这可以显著提高开关机速度。
```bash
vim /etc/default/grub
```
最后生成 GRUB 所需的配置文件
```bash
grub-mkconfig -o /boot/grub/grub.cfg
```
&gt;我们在之前的命令中指定了 bootloader-id 为 GRUB，这一般不会出现问题。然而在某些主板安装完成后，你会发现没有 nvme 启动条目。这是因为某些主板的 UEFI 固件在显示 UEFI NVRAM 引导条目之前，需要在特定的位置存放可引导文件，不支持自定义存放 efi 文件。解决方式是使用--removable 参数解决一些主板 NVRAM 的兼容性问题。
```bash
grub-install --target=x86_64-efi --efi-directory=/efi --removable
grub-mkconfig -o /boot/grub/grub.cfg
```
### 1.16.1双系统+windows
```bash
os-prober
cp /boot/grub/grub.cfg /boot/grub/grub.cfg.bak #当然，为了安全起见，首先执行下面命令，备份原有的boot配置
grub-mkconfig -o /boot/grub/grub.cfg #重新生辰GRUB配置文件
```
## 1.17完成安装
```bash
exit                # 退回安装环境#
umount -R  /mnt     # 卸载新分区
reboot              # 重启
```
注意，重启前要先拔掉优盘，否则你重启后还是进安装程序而不是安装好的系统。重启后，开启 dhcp 服务，即可连接网络
```bash
systemctl start dhcpcd  #立即启动dhcp
ping www.gnu.org      #测试网络连接
```
若为无线链接，则还需要启动 iwd 才可以使用 iwctl 连接网络
```bash
systemctl start iwd #立即启动iwd
iwctl               #和之前的方式一样，连接无线网络
```

# 桌面环境与常用应用
## 2.1确保系统为最新
如果你在做完上一节的内容后，重启并放置过一段时间，那需要先按照上节末尾处的方式重新连接网络，然后更新系统。
```bash
pacman -Syyu    #升级系统中全部包
```
## 2.2准备非 root 用户
添加用户，比如新增加的用户叫 user
```bash
useradd -m -G wheel -s /bin/bash user  #wheel附加组可sudo，以root用户执行命令 -m同时创建用户家目录
```
设置新用户 testuser 的密码
```bash
passwd testuser
```
编辑 sudoers 配置文件
```vim
EDITOR=vim visudo  # 需要以 root 用户运行 visudo 命令
```
找到下面这样的一行，把前面的注释符号 # 去掉，:wq 保存并退出即可。
```vim
#%wheel ALL=(ALL) ALL
```

这里稍微解释一下 %wheel 代表是 wheel 组，百分号是前缀 ALL= 代表在所有主机上都生效(如果把同样的sudoers文件下发到了多个主机上) (ALL) 代表可以成为任意目标用户 ALL 代表可以执行任意命令 一个更详细的例子:
```
%mailadmin   snow,rain=(root) /usr/sbin/postfix, /usr/sbin/postsuper, /usr/bin/doveadm
nobody       ALL=(root) NOPASSWD: /usr/sbin/rndc reload
```
组 mailadmin 可以作为 root 用户，执行一些邮件服务器控制命令。可以在 &quot;snow&quot; 和 &quot;rain&quot;这两台主机上执行 用户 nobody 可以以 root 用户执行rndc reload命令。可以在所有主机上执行。同时可以不输入密码。(正常来说 sudo 都是要求输入调用方的密码的)
## 2.3安装 KDE Plasma 桌面环境
```bash
pacman -S plasma-meta konsole dolphin  #安装plasma-meta元软件包以及终端和文件管理器
```
## 2.4配置 greeter sddm
```bash
systemctl enable sddm
```
</p></a></article><article class="border rounded p-4"><a href="/posts/msys2"><h2 class="text-xl font-semibold">Msys2</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年4月10日星期一</time></div><a href="/posts/msys2"><p class="line-clamp-2">

## 安装GCC
```bash

pacman -S gcc

pacman -S mingw-w64-x86_64-toolchain

pacman -S mingw-w64-i686-toolchain

pacman -S mingw-w64-x86_64-SDL2

pacman -S mingw-w64-i686-SDL2

pacman -S base-devel

pacman -S vim

pacman -S yasm

pacman -S nasm

pacman -S make
```</p></a></article><article class="border rounded p-4"><a href="/posts/powershell"><h2 class="text-xl font-semibold">PowerShell</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年4月8日星期六</time></div><a href="/posts/powershell"><p class="line-clamp-2"># PowerShell
## PowerShell权限设置

```powershell
# 查看脚本执行策略
Get-ExecutionPolicy
```

```powershell
# 查看系统脚本执行策略
[System.Enum]::GetNames([Microsoft.PowerShell.ExecutionPolicy])
```
Unrestricted:权限最高，可以不受限制执行任何脚本。
Default:为Powershell默认的策略：Restricted，不允许任何脚本执行。
AllSigned：所有脚本都必须经过签名才能在运行。
RemoteSigned：本地脚本无限制，但是对来自网络的脚本必须经过签名。
```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope CurrentUser # 对当前用户设置只对远程脚本验签
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned # 设置只对远程脚本验签
Set-ExecutionPolicy -ExecutionPolicy Unrestricted # 设置脚本不验签
```


## 其他命令

包管理相关命令
```powershell

Find-Package	# 在可用的软件包源中查找软件包。
Find-PackageProvider	# 返回可用于安装的包管理包提供程序列表。
Get-Package	# 返回使用PackageManagement安装的所有软件包的列表。
Get-PackageProvider	# 返回连接到包管理的包提供程序列表。
Get-PackageSource	# 获取为包提供程序注册的包源列表。
Import-PackageProvider	# 将包管理包提供程序添加到当前会话。
Install-Package	# 安装一个或多个软件包。
Install-PackageProvider	# 安装一个或多个包管理包提供程序。
Register-PackageSource	# 为指定的包提供程序添加包源。
Save-Package	# 将包保存到本地计算机，而不安装它们。
Set-PackageSource	# 替换指定包提供程序的包源。
Uninstall-Package	# 卸载一个或多个软件包。
Unregister-PackageSource	# 移除注册的包源。
```
包获取
```powershell

Find-Command	# 在模块中查找PowerShell命令。
Find-DscResource	# 查找所需的状态配置资源。
Find-Module	# 在存储库中查找符合指定条件的模块。
Find-RoleCapability	# 在存储库中查找符合指定条件的模块。
Find-Script	# 查找一个脚本
Get-InstalledModule	# 获取计算机上由PowerShellGet安装的模块列表。
Get-InstalledScript	# 获取已安装的脚本。
Get-PSRepository	# 获取PowerShell存储库。
Install-Module	# 从存储库中下载一个或多个模块，并将其安装在本地计算机上。
Install-Script	# 安装脚本。
New-ScriptFileInfo	# 使用元数据创建脚本文件。
Publish-Module	# 将指定模块从本地计算机发布到在线库。
Publish-Script	# 发布脚本。
Register-PSRepository	# 注册PowerShell存储库。
Save-Module	# 将模块及其依赖项保存在本地计算机上，但不安装该模块。
Save-Script	# 保存脚本。
Set-PSRepository	# 为注册的存储库设置值。
Test-ScriptFileInfo	# 验证脚本的注释块。
Uninstall-Module	# 卸载模块。
Uninstall-Script	# 卸载脚本。
Unregister-PSRepository	# 注销存储库。
Update-Module	# 将指定模块的最新版本从在线库下载并安装到本地计算机。
Update-ModuleManifest	# 更新模块清单文件。
Update-Script	# 更新脚本。
Update-ScriptFileInfo	# 更新脚本的信息。
```

# 其他功能
解密字符串
```powershell
powershell -EncodedCommand dwBoAG8AYQBtAGkACgA=
```</p></a></article><article class="border rounded p-4"><a href="/posts/windows-terminal"><h2 class="text-xl font-semibold">Windows Terminal</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年4月8日星期六</time></div><a href="/posts/windows-terminal"><p class="line-clamp-2"># Windows Terminal使用


## 安装模块

```powershell
Set-ExecutionPolicy -ExecutionPolicy RemoteSigned -Scope 
Install-Module posh-git -Scope CurrentUser
Install-Module -Name PSReadLine -Scope CurrentUser -Force -SkipPublisherCheck
```</p></a></article><article class="border rounded p-4"><a href="/posts/adb-use"><h2 class="text-xl font-semibold">adb-use</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/adb-use"><p class="line-clamp-2"># 卸载app，禁用更新
```shell
adb devices
adb shell
pm uninstall -k --user 0 &lt;pakage_name&gt;
adb shell pm disable-user com.huawei.android.hwouc # 华为手机 禁用更新命令：
adb shell pm enable com.huawei.android.hwouc # 开启更新命令
```
# 解root

```shell
adb reboot bootloader # 解锁bootloader
fastboot flashing unlock # 解锁
fastboot flashing lock # 上锁
fastboot reboot # 重启
```

</p></a></article><article class="border rounded p-4"><a href="/posts/anconda"><h2 class="text-xl font-semibold">anconda</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/anconda"><p class="line-clamp-2"># Ancoda 安装配置指南

## 1.安装

## 2.使用

## 3. conda 命令

### 3.1更新

```bash
conda update --all
conda update conda //升级conda
conda update anaconda
conda update anaconda-navigator    //update最新版本的anaconda-navigator
conda update xxx  //更新xxx文件包
```

### 3.2 查看已安装的虚拟环境

```bash
conda env list
conda info -e
conda info --env
```

### 3.3 管理环境

可以用如下命令创建一个名字为 my_py_env，python 版本为 3.6.2 的虚拟环境。

&lt;env_name&gt;是需要创建的环境名称，&lt;list_of_packages&gt;是在新环境中需要安装的工具包，有多个时用空格隔开

```bash
conda -create -n &lt;env_name&gt; &lt;list_of_packages&gt;
conda create -n python3 python=3.9.2
```

```bash
conda activate xxxx #开启xxxx环境
conda deactivate #关闭环境
```
克隆环境
```bash
conda create -n &lt;new_env_name&gt; --clone &lt;origin_env_name&gt;
```
删除环境
```bash
conda remove -n &lt;env_name&gt; --all
```
## 4. 源管理

```bash
conda config --add channels # 查看源
#添加清华的源
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
中科大的源
conda config –add channels https://mirrors.ustc.edu.cn/anaconda/pkgs/free/
阿里云的源
conda config --add channels http://mirrors.aliyun.com/pypi/simple/
conda config --remove channels &#x27;https://xxx&#x27; #移除源

conda clean -i # 清除索引缓存
```

## 5. 包管理
```bash
# 查看当前环境下已安装的包
conda list
 
# 查看某个指定环境（xxxxx）下已安装的包
conda list -n xxxxx
 
# 查找package信息，例如查找numpy包信息，会列numpy的所有版本
conda search numpy

# 安装package，安装多个包用空格隔开
# 如果不用-n指定环境名称，则被安装在当前活跃环境
# 也可以通过-c指定通过某个channel安装
conda install -n xxxxx numpy pandas

# 更新package
conda update --all
conda update numpy # 更新numpy（当前活跃的环境）
conda update -n xxxxx numpy # 更新指定xxxxx环境下的numpy
conda update python # 假设当前环境是python3.4, conda会将python升级为3.4.x系列的最新版本

# 删除环境package
conda uninstall numpy
conda remove numpy # 删除numpy包（当前活跃的环境）
conda remove -n xxxxx numpy # 删除xxxxx环境下的包
```


```bash
set SITE_PACKAGES=D:\Anaconda3\site-packages

```
## conda回滚安装包
```bash
conda list --revisions
conda install --revision=n
```</p></a></article><article class="border rounded p-4"><a href="/posts/jupyter"><h2 class="text-xl font-semibold">jupyter</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/jupyter"><p class="line-clamp-2"># juypter 使用

## 基础配置

1.生成配置文件：

```bash
jupyter notebook --generate-config
```

配置文件:
~/.jupyter/jupyter_notebook_config.py

2.生成密码

```python
from notebook.auth import passwd
passwd(algorithm=&#x27;sha1&#x27;)
```

设置密码 c.NotebookApp.password = ‘’
设置端口 c.NotebookApp.port = 8088
设置 IP c.NotebookApp.ip = ‘192.168.1.100’
设置根目录  c.NotebookApp.notebook_dir = &#x27;D:\\notebook&#x27;

## 启动网页版

```bash
jupyter notebook
```

## 内核管理

```
jupyter kernelspec list  # 查看内核
jupyter kernelspec remove &lt;kernel&gt; # 移除内核
```
</p></a></article><article class="border rounded p-4"><a href="/posts/npm"><h2 class="text-xl font-semibold">npm</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/npm"><p class="line-clamp-2">
# 查看新版本
npm install -g npm
# 升级到指定版本
npm install -g npm@8.6.0
#
npm install -g npm@latest 

# 查看安装配置路径
npm config ls

升级更新 nodejs
1）安装 nodejs 的版本管理器 n
sudo npm install -g n
注：如果你还未安装npm，请先安装npm（可能会报缺少依赖，缺啥就补啥，补完之后再安装 npm）
2）使用 n 切换（更新） nodejs 版本
npm config set registry https://registry.npm.taobao.org
# 最新版本
n lastest
# 稳定版本
n stable
# 安装指定版本
n 10.12.0



npm 更新 node_modules
1、全局安装依赖检查：npm install -g npm-check-updates
2、检查当前项目依赖版本： ncu / npm-check-updates -- 需要在项目下
npm-check-updates
Checking /Users/malk/work/zitoo-cli/package.json
[====================] 27/27 100%
 qs                      ^6.9.2  →  ^6.9.3 
 @vue/cli-plugin-babel   ^4.2.3  →  ^4.3.1 
 @vue/cli-plugin-eslint  ^4.2.3  →  ^4.3.1 
 @vue/cli-service        ^4.2.3  →  ^4.3.1 
Run ncu -u to upgrade package.json
3、看到依赖版本了，通过命令修改：ncu -u -- 将package.json版本更新到最新
4、最后当然是下载依赖了：npm i / npm install


## 安装vite
```bash
npm install -g create-vite-app
```</p></a></article><article class="border rounded p-4"><a href="/posts/openssl"><h2 class="text-xl font-semibold">openssls-use</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/openssl"><p class="line-clamp-2"># 自建 CA

## 生产根密钥

```bash
openssl genrsa -out ./private/cakey.key 2048
```

## 生成 CA 证书

在 PKI 体系中，CA 的签名可以自签名或从父 CA 获取，这取决于设计的架构。在本例中，我们使用自签名的方式创建 CA 的根证书

```bash
openssl req -new -x509 -days 3650 -key ./private/cakey.key -out cacert.crt -config openssl.cnf
```

有了证书之后，我们可以使用下面的命令查看证书信息

```bash
openssl x509 -in cacert.crt -text | less
```

## 添加信任

```bash
# cat cacert.pem &gt;&gt; /etc/pki/tls/certs/ca-bundle.crt     //centos
# mv cacert.pem /usr/local/share/ca-certificates/cacert.pem &amp;&amp; update-ca-certificates //ubuntu
```

## 初始化证书库

对于 CA 来说，需要记录其已经发放的证书，因此需要先初始化相关的文件，在 ubuntu 中，openssl 的配置文件在/usr/lib/ssl/openssl.cnf 中，内有一个属性 dir 是 CA 保存证书记录的地方，我们可以修改这个地址，之后执行下面的命令：

```bash
# 进入cnf中的dir文件夹，创建文件
cd `dir`
ouch index.txt &amp;&amp; touch serial &amp;&amp; echo 01 &gt; serial
```

# 客户端向 CA 请求证书

客户端相关的操作都在 client 目录中处理

## 生成密钥

```bash
openssl genrsa -out client.pem 2048
```

## 创建证书请求文件

根据私钥文件，生成证书请求文件 CSR，CSR 中一般会包含请求者的公钥，这里的请求者就是客户端，由于客户端的私钥文件可推导出公钥，再加上下面的命令执行时要求输入的组织信息，就可以生成 CSR 了。

```bash
openssl req -new -out client.csr -key client.pem -config openssl.cnf
```

## 查看 CSR 文件信息

```bash
openssl req -in client.csr -text | less
```

## 从 CA 获取证书

```bash
cd ../CA
openssl ca -in ../client/client.csr -out ../client/client.crt -days 365 -keyfile ./private/cakey.key -cert cacert.crt -config openssl.cnf
```

ca 命令可以用来发放证书，-in 指定了输入的 csr 文件，-out 是发放给客户端的证书 -keyfile 是 ca 的根证书私钥文件，-cert 是 CA 的根证书

## 校验证书

```bash
openssl verify -CAfile cacert.crt ../client/client.crt
```

如果返回 OK，说明证书校验成功。


# 生成pdf签名数字证书
接上步获取的client.crt和client.pem
```bash
openssl pkcs12 -export -in client.crt -inkey client.pem -out my.p12
```
安装证书，即可用来签名

# 文件签名
```bash
openssl genrsa -out privatekey.pem 2048 # 生成密钥
openssl dgst -sha256 -sign privatekey.pem -out t.txt.signature t.txt # 对t.txt进行签名，并将签名结果保存到t.txt.signature中
openssl rsa -in privatekey.pem -outform PEM -pubout -out publickey.pem # 导出公钥
openssl dgst -sha256 -verify publickey.pem -signature t.txt.signature t.txt # 验证签名

```

</p></a></article><article class="border rounded p-4"><a href="/posts/pdftk"><h2 class="text-xl font-semibold">pdftk</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/pdftk"><p class="line-clamp-2"># 安装

# 使用

## 合并PDF
```bash
pdftk 1.pdf 2.pdf 3.pdf cat output 123.pdf
pdftk *.pdf output all.pdf
```

多页面合并

```bash
pdftk A=1.pdf B=2.pdf C=3.pdf cat A1-2 B2-3 C3 output abc.pdf
```
## 抽取PDF
```bash
// 抽取1-3页和5页为1.pdf
pdftk demo.pdf cat 1-3 5 output 1.pdf

//从一个包含奇数页（1、3 等）的文件和一个包含偶数页（2、4 等）的文件创建一个整合文档
pdftk A=odd.pdf B=even.pdf shuffle A B output collated.pdf
```

## 拆分PDF

## 加密解密
加密
```bash
//添加访问密码
pdftk demo.pdf output encrypt-demo.pdf user_pw &lt;password&gt;

//添加编辑密码
pdftk demo.pdf output editpw-demo.pdf owner_pw &lt;password&gt;

//allow printing参数
pdftk demo.pdf output  encrypt-demo.pdf owner_pw &lt;password&gt; allow printing
```

解密
```bash
//解密编辑密码和访问密码都是同样的命令，但解密顺序首先是编辑密码，然后是访问密码。
pdftk encrypt-demo.pdf input_pw &lt;password&gt; output demo.pdf
pdftk encrypt-demo.pdf input_pw &lt;password&gt; output demo.pdf
```

</p></a></article><article class="border rounded p-4"><a href="/posts/pip"><h2 class="text-xl font-semibold">pip</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/pip"><p class="line-clamp-2"># pip使用

```console
install pip
python -m ensurepip --default-pip
upgrade pip
python -m pip install --upgrade pip
pip list  --outdated --format=columns //查看可更新包
pip install pip-review //批量下载并更新
pip-review --local --interactive
```

## 配置多个源
```
pip config set global.index-url https://pypi.tuna.tsinghua.edu.cn/simple //设置源
```


## 配置多个源
```
pip config set global.extra-index-url &quot;&lt;url1&gt; &lt;url2&gt;...&quot;
```



## pip_search

linux
```bash
alias pip=&#x27;function _pip(){
if [ $1 = &quot;search&quot; ]; then
pip_search &quot;$2&quot;;
else pip &quot;$@&quot;;
fi;
};_pip&#x27;
```

win
```powershell
function pp {
    if ($args[0] -eq &quot;search&quot;) {
        pip_search $args[1..$args.Length]
    }
    else {
        pip $args[0..$args.Length]
    }
}
```

## 导出第三方包
```bash
pip freeze &gt;requirements.txt
```

卸载第三方库
```bash
pip uninstall -r requirements.txt -y
```

## 安装第三方库
```bash
pip install -r requirements.txt -y
```
</p></a></article><article class="border rounded p-4"><a href="/posts/docker-install"><h2 class="text-xl font-semibold">docker-install</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/docker-install"><p class="line-clamp-2"># 安装Docker
服务器上执行以下命令安装docker, 安装完成后执行第二条命令，启动并设置开机启动docker。
```bash
curl -fsSL https://get.docker.com | bash -s docker --mirror Aliyun
systemctl enable --now docker
```

# 安装docker-compose
```bash
curl -L https://get.daocloud.io/docker/compose/releases/download/v2.16.0/docker-compose-`uname -s`-`uname -m` -o /usr/local/bin/docker-compose &amp;&amp; chmod +x /usr/local/bin/docker-compose
```


# Docker命令
```bash
docker run \
    --restart=always \
    --privileged \
    --ulimit core=-1 \
    -idt \
    -p 2222:22 \
    -v /etc/localtime:/etc/localtime \
    --name=my_ubuntu \
    ubuntu:20.04 \
    /bin/bash
```

```bash
# 查看容器状态
docker ps -a
# 查看对应的端口是否被docker容器监听
netstat -tunlp | grep ‘2222’
# 进入容器，安装ssh，修改配置文件允许root用户登录，修改root用户密码，安装cmake，g++
docker exec -it cf0b23894466 /bin/bash
```

```bash
# 修改root密码
passwd
```

配置ssh
```bash
vim /etc/ssh/sshd_config
UsePAM no

UsePrivilegeSeparation no

PermitRootLogin yes

PasswordAuthentication yes

/etc/init.d/ssh restart
```
启动ssh并设置为开机启动

```bash
systemctl start sshd
systemctl enable sshd

```
安装常用软件
```bash
apt-get update
apt-get install -y openssh-client
apt-get install -y openssh-server
apt-get install -y cmake
apt-get install -y g++
apt-get install -y vim
PermitRootLogin yes #允许root用户ssh登录
UsePAM no ##禁用PAM
```

```bash
/etc/init.d/ssh restart
# 设置ssh密码 
passwd root
```</p></a></article><article class="border rounded p-4"><a href="/posts/docker-use"><h2 class="text-xl font-semibold">docker-use</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/docker-use"><p class="line-clamp-2"># docker命令详解
```bash
docker ps -a # 查询运行的docker容器
docker exec -it &lt;id&gt; /bin/bash # 进入id容器执行bash
docker commit &lt;id&gt; bytemark/webdav:v1
```
# docker-compose命令详解
```bash
docker-compose up -d # 启动
docker-compose down # 关闭
```
</p></a></article><article class="border rounded p-4"><a href="/posts/linux-java"><h2 class="text-xl font-semibold">jdk</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/linux-java"><p class="line-clamp-2">## 安装包安装方式

### 下载
```bash
wget https://download.java.net/java/GA/jdk11/9/GPL/openjdk-11.0.2_linux-x64_bin.tar.gz
tar -zxvf openjdk-11.0.2_linux-x64_bin.tar.gz
```
### 编辑环境变量
```bash
vim /etc/profile

# profile
export JAVA_HOME=/usr/local/jdk-11.0.2
export JRE_HOME=$JAVA_HOME/jre
export CLASSPATH=.:$JAVA_HOME/lib:$JRE_HOME/lib
export PATH=$JAVA_HOME/bin:$PATH

source /etc/profile
```


</p></a></article><article class="border rounded p-4"><a href="/posts/mysql"><h2 class="text-xl font-semibold">mysql</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/mysql"><p class="line-clamp-2"># centos7.0 安装 MySql8.0

## 1 清理环境

### 1.1 查看是否有 mysql 数据库

```console
$ rpm -qa | grep mysql
```

### 1.2 有 mysql 数据库

```console
$ yum remove mysql-xxx-xxx #卸载mysql
$ find / -name mysql #查找mysql配置文件
$ rm -rf /var/lib/mysql #删除配置文件
```

### 1.3 删除 MariaDB 的文件

```console
$ rpm -qa | grep mariadb #寻找MariaDB
$ yum -y remove mariadb-libs.x86_64 #卸载MariaDB
```

## 2 安装 MySql

### 2.1 下载 yum 源安装包

```bash
wget https://repo.mysql.com/mysql80-community-release-el8-4.noarch.rpm
yum localinstall mysql80-community-release-el8-4.noarch.rpm

yum repolist enabled

# yum install https://repo.mysql.com//mysql80-community-release-el7-1.noarch.rpm
```

禁用 centos8.0 自带的 mysql 模块

```bash
yum module disable mysql
```

### 2.2 安装 mysql

```console
$ yum install mysql-community-server
```

#### 2.2.1 问题 1

```console
Error: Unable to find a match: mysql-community-server
$ yum module disable mysql #禁用本地的MySQL模块,再安装。
```

#### 2.2.2 问题 2

参考 https://blog.csdn.net/lcyaiym/article/details/77282336

```console
Error: GPG check FAILED
$ vi /etc/yum.repos.d/mysql-community.repo #设置gpgcheck=0
```

### 2.3 初始化 MySql

```console
$ mysqld --initialize
```

### 2.4 启动 MySql

```console
$ service mysqld start
$ service mysqld status #查看状态
$ grep &#x27;temporary password&#x27; /var/log/mysqld.log #查看初始密码
```

### 2.5 登录

```console
$ mysql -uroot -p
```

### 2.6 更改密码

```console
$ alter user &#x27;root&#x27;@&#x27;localhost&#x27; identified by &#x27;xxxxx&#x27;;
```

### 2.7 创建远程访问用户，依次执行下列命令

```console
$ create user &#x27;root&#x27;@&#x27;%&#x27; identified with mysql_native_password by &#x27;xxxxx&#x27;;
$ grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27; with grant option;
$ flush privileges;
```

### 3.0 其他命令

```console
$ systemctl start mysqld  #启动mysqld
$ systemctl stop mysqld  #停止mysqld
$ systemctl restart mysqld  #重启mysqld
$ systemctl enable mysqld  #设置开机启动
$ mysqladmin --version  #验证MySql安装
```

# Ubuntu 安装 MySql

```bash
apt install mysql-server
sudo mysql
ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; IDENTIFIED WITH mysql_native_password by &#x27;你的密码&#x27;;

mysql_secure_installation

mysql -uroot -p
use mysql;
select user,host from user;
CREATE USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;你的密码&#x27;;

GRANT ALL ON *.* TO &#x27;root&#x27;@&#x27;%&#x27;;
 grant all privileges on *.* to &#x27;root&#x27;@&#x27;%&#x27; with grant option;

ALTER USER &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED WITH mysql_native_password BY &#x27;awsd123321@A.&#x27;;

flush privileges;
```

UPDATE user SET host = &#x27;localhost&#x27; WHERE user =&#x27;root&#x27;;
</p></a></article><article class="border rounded p-4"><a href="/posts/redis"><h2 class="text-xl font-semibold">redis</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/redis"><p class="line-clamp-2"># Ubuntu 20 安装使用redis
## 1.安装
### 1.1 apt命令安装
```bash
apt update
apt install redis
```
## 2.使用
### 2.1检查redis版本
```bash
redis-cli --version
```
### 2.2查看，启动和停止redis服务
```bash
ps -aux | grep redis # 查看redis服务
systemctl status redis # 查看redis服务
redis-server # 启动redis服务
redis-server &lt;config&gt; # 按特定配置文件启动redis
sever redis start # 打开服务
server redis stop # 关闭服务
systemctl start redis # 打开服务
systemctl stop redis # 关闭服务
```
## 3.配置
### 3.1redis配置文件
&gt;/etc/redis/redis.conf

#### 3.1.1用守护线程的方式启动redis ： daemonize
redis.conf配置文件中daemonize守护线程，默认是NO，当前界面将进入redis的命令行界面，exit强制退出或者关闭连接工具(putty,xshell等)都会导致redis进程退出，redis终端窗口启用阻塞方式找开，即启动redise服务后，窗不能干其它事。

redis采用的是单进程多线程的模式。当redis.conf中选项daemonize设置成yes时，代表开启守护进程模式。在该模式下，redis会在后台运行，并将进程pid号写入至redis.conf选项pidfile设置的文件中，此时redis将一直运行，非手动kill该进程。

推荐daemonize改为yes，以守护进程运行

#### 3.1.2redis监听端口,即服务端口: port 6379
默认为 6379，如果你设为 0 ，redis 将不在 socket 上监听任何客户端连接。

#### 3.1.3数据库的数目： databases 16
缺省是16个，不需要创建，不建议修改

#### 3.1.4设置sedis进行数据库镜像的频率 ： save
根据给定的时间间隔和写入次数将数据保存到磁盘

注释掉“save”这一行配置项就可以让保存数据库功能失效

save 900 1

save 300 10

save 60 10000

上面例子意思是：
900 秒（15分钟）内如果至少有 1 个 key 的值变化，则保存（则进行数据库保存–持久化）
300 （5分钟）秒内如果至少有 10 个 key 的值变化，则保存（则进行数据库保存–持久化）
60 秒（1分钟）内如果至少有 10000 个 key 的值变化，则保存（则进行数据库保存–持久化）
#### 3.1.5开启远程访问:
默认仅允许本机访问，通过输入您希望Redis服务器监听的接口的值来更改IP地址。
如果您想添加多个IP地址，只需将它们用空格隔开即可
如果希望服务器侦听网络上的所有接口，则可以使用以下命令：bind 0.0.0.0

#### 3.1.6设置访问密码
redis访问缺省是没有密码，找到# requirepass foobared这一行，将注释符号#去掉，将后面修改成自己的密码，例如，设置密码为12345678

#### 3.1.7Redis的数据文件: dbfilename dump.rdb


#### 3.1.8数据文件存储路径: dir /var/lib/redis
来源：https://www.cnblogs.com/jxldjsn/p/15760199.html</p></a></article><article class="border rounded p-4"><a href="/posts/texlive"><h2 class="text-xl font-semibold">texlive</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/texlive"><p class="line-clamp-2"># texlive安装
## linux下安装

### 下载texlive
```bash
mkdir /opt/app &amp;&amp; /opt/app
wget https://mirrors.cqu.edu.cn/CTAN/systems/texlive/Images/texlive.iso
```
### 挂载安装

这里需要注意的是，启动安装脚本时，可以带上可选的命令行参数，常见的参数是配置镜像源（其他的见安装手册），我选择的是清华源（小文件下载速度还是能够接受的）
```bash
mount -o loop texlive.iso /mnt/
cd /mnt/
./install-tl -repository https://mirrors.tuna.tsinghua.edu.cn/CTAN/systems/texlive/tlnet
```

主菜单中可以选择需要安装的宏包，分为scheme（大方案）和collection（更精细的集合）两种方式。我的建议是进入collection，去掉所有除中文、英文的其他外语种的宏包（有需要的可自我保留，之后也可随时下载回来），再去除不常用的LuaLaTeX编译引擎相关的宏包，最终能省大约1个G的空间。其他的宏包建议全部选择，最终大概占用空间7G。

### 配置环境变量
Add /usr/local/texlive/2023/texmf-dist/doc/man to MANPATH.
Add /usr/local/texlive/2023/texmf-dist/doc/info to INFOPATH.
Most importantly, add /usr/local/texlive/2023/bin/x86_64-linux
to your PATH for current and future sessions.
Logfile: /usr/local/texlive/2023/install-tl.log
```bash
vim ~/.profile
export MANPATH=${MANPATH}:/usr/local/texlive/2023/texmf-dist/doc/man
export INFOPATH=${INFOPATH}:/usr/local/texlive/2023/texmf-dist/doc/info
export PATH=${PATH}:/usr/local/texlive/2023/bin/x86_64-linux

source ~/.profile
```</p></a></article><article class="border rounded p-4"><a href="/posts/mac-java"><h2 class="text-xl font-semibold">mac-java</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/mac-java"><p class="line-clamp-2">
ls /Library/Java/JavaVirtualMachines/

sudo rm -rf /Library/Java/JavaVirtualMachines/jdk1.8.0_191.jdk/

ln -sfn /usr/local/opt/openjdk11.jdk /Library/Java/JavaVirtualMachines/openjdk11.jdk

配置 $JAVA_HOME 环境变量，找到 .bash_profile/.bashrc/.zshrc 等配置文件中的任意一个，添加下面这行代码：
open -e .zshrc
export JAVA_HOME=$(/usr/libexec/java_home -v11.0) # maven需要
然后退出终端重新打开，或者重新加载配置文件：

# 以 .zshrc 为例
source ~/.zshrc
在终端中使用 java 命令行工具，来检查配置是否生效：

java -version</p></a></article><article class="border rounded p-4"><a href="/posts/link"><h2 class="text-xl font-semibold">windows-link</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2023年3月25日星期六</time></div><a href="/posts/link"><p class="line-clamp-2">
1. 文件的软链接和硬链接
软链接

```powershell
mklink &quot;目标文件&quot; 源文件
```

硬链接

```powershell
mklink /H &quot;目标文件&quot; 源文件
```

2. 文件夹的软链接和硬链接
软链接

```powershell
mklink /D &quot;目标文件&quot; 源文件
```

硬链接

```powershell
mklink /J &quot;目标文件&quot; 源文件
```

| 类型\属性| 使用 | 能否链接到文件 | 能否链接到目录 | 能否跨越磁盘分区 | 能否指向不存在的目标 | 能否指向相对目录 |如何删除|
|----      |----|----           |----           |----             |----                |-----           |----|
| 快捷方式  | None | 能            |能             | 能              |能                  |否               |del file|
| 硬链接    | mklink /H to from | 能            |否             |否               |否                  |否               |del file|
| 软链接    | mklink /J to from | 否            |能             |能               |能                  |否               |rd folder|
| 符号链接  | mklink /D to from | 能            |能             |能               |能                  |能               |rd folder or del file| /J &quot;目标文件&quot; &quot;源文件&quot;
```</p></a></article><article class="border rounded p-4"><a href="/posts/brew"><h2 class="text-xl font-semibold">Brew</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2022年12月12日星期一</time></div><a href="/posts/brew"><p class="line-clamp-2"># brew安装配置
## 1 安装
### 1.1 国内安装
苹果电脑 常规安装脚本（推荐 完全体 几分钟安装完成）：
```bash
/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot;
```
苹果电脑 极速安装脚本（精简版 几秒钟安装完成）：
```bash
/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)&quot; speed
```
苹果电脑 卸载脚本：
```bash
/bin/zsh -c &quot;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/HomebrewUninstall.sh)&quot;
```
### 1.2 官网安装
```bash
/bin/bash -c &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)&quot;
```
### 1.3 注意事项
在Mac OS X 10.11系统以后，/usr/local/等系统目录下的文件读写是需要系统root权限的，以往的Homebrew安装如果没有指定安装路径，会默认安装在这些需要系统root用户读写权限的目录下，导致有些指令需要添加sudo前缀来执行，比如升级Homebrew需要：
```bash
$ sudo brew update
```
如果你不想每次都使用sudo指令，你有两种方法可以选择:
```bash
//1.对/usr/local 目录下的文件读写进行root用户授权
$ sudo chown -R $USER /usr/local
例：$ sudo chown -R lean /usr/local

//2.（推荐）安装Homebrew时对安装路径进行指定，直接安装在不需要系统root用户授权就可以自由读写的目录下
&lt;install path&gt; -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;
```
## 2 配置
### 2.1换源
```bash
############清华源
# 替换brew.git源
git -C &quot;$(brew --repo)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git
# 替换 homebrew-core.git源
git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git
# 替换 homebrew-cask.git源
git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git

############中科大的源
# brew.git源
git -C &quot;$(brew --repo)&quot; remote set-url origin https://mirrors.ustc.edu.cn/brew.git
# homebrew-core.git源
git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://mirrors.ustc.edu.cn/homebrew-core.git
# homebrew-cask.git源
git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://mirrors.ustc.edu.cn/homebrew-cask.git

############查看
# 查看brew.git源
git -C &quot;$(brew --repo)&quot; config --get remote.origin.url
# 查看homebrew-core.git源
git -C &quot;$(brew --repo homebrew/core)&quot; config --get remote.origin.url
# 查看homebrew-cask.git源
git -C &quot;$(brew --repo homebrew/cask)&quot; config --get remote.origin.url

##########官方源
# brew.git源
git -C &quot;$(brew --repo)&quot; remote set-url origin https://github.com/Homebrew/brew.git
# homebrew-core.git源
git -C &quot;$(brew --repo homebrew/core)&quot; remote set-url origin https://github.com/Homebrew/homebrew-core
# homebrew-cask.git源
git -C &quot;$(brew --repo homebrew/cask)&quot; remote set-url origin https://github.com/Homebrew/homebrew-cask

```
## 3 使用
### 3.1指令
#### 3.1.1 Homebrew常用命令
```bash
//基本命令
brew -v # 查看brew版本
brew list # 查看所有包 
brew -help # 查看帮助命令
brew doctor # 诊断HomeBrew问题
brew config # 查看配置信息

//搜索包
brew search [Package]

//安装，安装包路径 /usr/local/Cellar/
brew install [Package]@Version

//卸载
brew uninstall [Package]@Version

//更新
brew update            # 更新包
brew outdated         # 会安装新版本的包，但旧版本仍然会保留。
brew upgrade             # 更新所有的包
brew upgrade $FORMULA    # 更新指定的包

//清理
brew cleanup             # 清理所有包的旧版本
brew cleanup $FORMULA    # 清理指定包的旧版本
brew cleanup -n          # 查看可清理的旧版本包，不执行实际操作
brew cleanup -s          # 清理缓存，包括下载即使是最新的版本
brew cleanup --prune=1   # 删除所有早于指定时间的缓存文件（天）

//锁定不想更新的包
brew pin $FORMULA      # 锁定某个包
brew unpin $FORMULA    # 取消锁定

//查看包信息
brew info $FORMULA    # 显示某个包的信息
brew info [Package]   # 显示安装了包数量，文件数量，和总占用空间
brew deps           # 可以显示包的依赖关系，我常用它来查看已安装的包的依赖，然后判断哪些包是可以安全删除的。

//切换版本
brew unlink opencv@4
brew link opencv@3
opencv_version

```
#### 3.1.2 brew cask 相关命令
cask可以认为是Homebrew的一个模块，brew cask开头的命令一般管理的是带有GUI的软件（如Navicat、Sourcetree等），而brew开头的命令一般管理的是无GUI软件或是各种环境（如MySQL、Git等）
```bash
brew cask install softwareName # 安装软件
brew cask list # 查看所有通过brew cask install安装的软件
brew cask info softwareName # 查看通过brew cask install安装的可更新的软件

```
#### 3.1.3 brew serivces 相关命令
brew services开头的命令一般是用于管理通过Homebrew安装的各类服务的
```bash
brew services list # 查看所有服务及其它们各自的运行状态
brew services start redis # 启动
brew services start ---all # 启动所有
brew services restart redis # 重启
brew services restart --all # 重启所有
brew services stop redis # 停止
brew services stop --all # 停止所有
```</p></a></article><article class="border rounded p-4"><a href="/posts/gcc"><h2 class="text-xl font-semibold">Gcc</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2022年12月12日星期一</time></div><a href="/posts/gcc"><p class="line-clamp-2"># Centos下编译安装gcc
```bash
cd /opt
mkdir app &amp;&amp; cd app
wget https://mirrors.cloud.tencent.com/gnu/gcc/gcc-11.2.0/gcc-11.2.0.tar.gz
tar -zxvf gcc-11.2.0.tar.gz
mv gcc-11.2.0 gcc-11
cd gcc-11
```
下载依赖包
```bash
./contrib/download_prerequisites
```
配置
```bash
mkdir build
cd build
../configure --prefix=/usr/local/gcc-11.2.0/ --enable-checking=release --enable-threads=posix --enable-languages=c,c++ --disable-multilib
```
configure是一个可执行脚本，它有很多选项，在待安装的源码路径下使用命令./configure –help输出详细的选项列表。其中--prefix选项是配置安装的路径。

如果不配置 --prefix 选项，安装后：

可执行文件默认放在/usr/local/bin，

库文件默认放在/usr/local/lib，

配置文件默认放在/usr/local/etc，

其它的资源文件放在/usr/local/share

configure各项参数详解：

--prefix=/usr/local/gcc-11.2.0/：把所有资源文件都放在该路径下。

--enable-checking=release：生成的编译器在编译过程中不做额外检查。

--enable-languages=c,c++：让gcc支持c，c++。

--disable-multilib：不生成编译为其他平台可执行代码的交叉编译器。


无误后
```bash
make # 或make -jx x为cpu核数
sudo make install
ll /usr/local/gcc-11.2.0
```

配置

如果找不到libmpfr的链接库，则先执行如下命令
```bash
export LD_LIBRARY_PATH=/usr/local/mpfr-4.1.0/lib
```
5 备份旧版gcc

 ```bash
cd /usr/bin
mv gcc gcc48
mv g++ g++48
mv c++ c++48
```
还有些旧版文件

建立新版本软连接

```bash
ln -s /usr/local/gcc-11.2.0/bin/gcc gcc
ln -s /usr/local/gcc-11.2.0/bin/g++ g++
ln -s /usr/local/gcc-11.2.0/bin/c++ c++
```

7 更新libstdc

 
方法一
```bash
cd /usr/lib64
mv libstdc++.so.6 libstdc++.so.6.back
ln -s /usr/local/gcc-11.2.0/lib64/libstdc++.so.6.0.29 libstdc++.so.6
 ```
方法二
```bash
ln -snf /usr/local/gcc-11.2.0/lib64/libstdc++.so.6.0.29 libstdc++.so.6
```
方法三
```bash
cp /usr/local/gcc-11.2.0/lib64/libstdc++.so.6.0.29 libstdc++.so.6
```
比较库差异
```bash
strings /usr/local/gcc-11.2.0/lib64/libstdc++.so.6.0.29 | grep GLIBCXX
```

修改环境变量
```bahs
echo export LD_LIBRARY_PATH=/usr/local/gcc-11.2.0/lib:/usr/local/gcc-11.2.0/lib64:$LD_LIBRARY_PATH &gt;&gt; /etc/profile

source /etc/profile
```












多版本配置

通过update-alternatives建立文件关联，首先要让系统知道我们安装了多个版本的gcc
```bash
# 命令最后的 20和50是优先级，如果使用auto选择模式，系统将默认使用优先级高的
update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8.5 20
update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 50

```
# Ubuntu下安装多版本GCC
## 1 安装准备
```bash
add-apt-repository ppa:ubuntu-toolchain-r/test # 添加相应源
apt update #更新软件源

```
## 2 安装
安装最新版gcc或指定版本gcc
```bash
apt install gcc-11
```

## 3.刷新db用locate查看已安装gcc
locate 用来查找文件或目录。比find -name快得多，原因在于它不搜索具体目录，而是搜索一个数据库/var/lib/mlocate/mlocate.db ，这个数据库中含有本地所有文件信息。Linux系统自动创建这个数据库，并且每天自动更新一次，因此，有时会找到已经被删除的数据，而刚刚建立文件却无法查找到。为了避免这种情况，可以在使用locate之前，先使用updatedb命令，手动更新数据库，然后再查找。
```bash
sudo updatedb &amp;&amp; sudo ldconfig
locate gcc | grep -E &quot;/usr/bin/gcc-[0-9]&quot;
```
## 4.多版本配置
通过update-alternatives建立文件关联，首先要让系统知道我们安装了多个版本的gcc
```bash
# 命令最后的 20和50是优先级，如果使用auto选择模式，系统将默认使用优先级高的
update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-4.8 20
update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 50

```</p></a></article><article class="border rounded p-4"><a href="/posts/linux"><h2 class="text-xl font-semibold">Linux</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2022年12月12日星期一</time></div><a href="/posts/linux"><p class="line-clamp-2"># linux使用
## 创建软硬链接
&gt;在linux系统中，内核为每一个新创建的文件分配一个Inode(索引节点)，每个文件都有唯一的inode号。文件属性保存在索引节点里，在访问文件时，索引节点被复制到内存，从而实现文件的快速访问。

&gt;链接是一种在共享文件和访问它的用户的若干目录项之间建立联系的一种方法。有硬链接和软链接，软链接又称为符号链接
### 创建软链接
```bash
ln -s [源文件/目录] [目标文件/目录]
```
特点:

1. 类似于windows中的快捷方式

2. 允许给目录创建软链接

3. 能跨文件系统

4. 软链接有自己的inode，并在磁盘上有一小片空间存放路径名

例子： 当file1创建一个软链接，file1的链接数目不会增加。源文件大小和链接文件大小是不一样的。
### 修改软链接
```bash
ln -snf [新源文件/新目录] [软链接地址]
```
### 删除软链接
```bash
rm -rf [软链接地址]
```
上述指令中，软链接地址最后不能含有“/”，当含有“/”时，删除的是软链接目标目录下的资源，而不是软链接本身。
### 创建硬链接
&gt;实质上是一个指针，指向文件索引节点，系统并不为它重新分配inode。使用 ln 来创建
```bash
ln [源文件] [目标文件]
```
特点:

1. 不允许给目录创建硬链接

2. 只有在同一个文件系统才能创建(不能跨文件系统)

例子： 为file1创建一个硬链接，file1的链接数目就会增加。当删除链接时，链接数减1，当链接数为0时，内核才会把文件内容从磁盘上删除。

## 运行程序信息
### 查看系统当前运行程序信息
```
journalctl -n 20 -u halo
```
```bash
ps aux
ps -eo pmem,pcpu,rss,vsize,args | sort -k 1 -r | less # 查看各个程序进程内存使用的内存情况
```
查看系统内存使用情况

free默认是显示单位kb
```bash
free -m 以mb为单位列出
free -g 以gb为单位列出
```

## 查找文件
```bash
which [file]
find / -name [file]
find / -name

## 文件属性
```bash
[root@www /]# ls -l
total 64
dr-xr-xr-x   2 root root 4096 Dec 14  2012 bin
dr-xr-xr-x   4 root root 4096 Apr 19  2012 boot
```
实例中，bin 文件的第一个属性用 d 表示。d 在 Linux 中代表该文件是一个目录文件。

在 Linux 中第一个字符代表这个文件是目录、文件或链接文件等等。

- 当为 d 则是目录
- 当为 - 则是文件；
- 若是 l 则表示为链接文档(link file)；
- 若是 b 则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
- 若是 c 则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。

接下来的字符中，以三个为一组，且均为 rwx 的三个参数的组合。其中， r 代表可读(read)、 w 代表可写(write)、 x 代表可执行(execute)。 要注意的是，这三个权限的位置不会改变，如果没有权限，就会出现减号 - 而已。

## 后台执行程序
安装screen

执行如下命令，创建screen窗口。
```
screen -S [$Name]
```

执行如下命令，列出screen窗口。
```bash
screen -ls
```

当需要运行脚本、执行程序时，在命令前添加screen即可。

同时按Ctrl+a+d键，就可以退出SSH登录，但不会影响screen程序的运行。

需要继续工作时，登录实例，然后执行如下命令，恢复会话即可。
```bash
screen -r -d
```</p></a></article><article class="border rounded p-4"><a href="/posts/oh-my-zsh"><h2 class="text-xl font-semibold">Oh My Zsh</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2022年12月12日星期一</time></div><a href="/posts/oh-my-zsh"><p class="line-clamp-2"># 更换linux终端为zsh
## 准备
查看系统当前shell
```bash
echo $SHELL
```
查看bin下是否有zsh包
```bash
cat /etc/shells
```
## 安装
### 安装zsh
```bash
yum install zsh -y # centos7环境
apt install zsh # debian
```

centos 8 下
```bash
dnf -q provides &#x27;*/chsh&#x27;
yum install util-linux-user-2.32.1-35.el8.x86_64
```

切换shell至zsh，代码如下：
```bash
chsh -s /bin/zsh
```



### 安装Git
```bash
yum install git -y
```

### 安装on-my-zsh
&gt; 全局安装
ZSH=&quot;/opt/.oh-my-zsh&quot; sh ./install.sh

&gt; 默认安装
1.wget
```bash
wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh
```

2.curl
```bash
sh -c &quot;$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)&quot;
```

3.fetch
```bash
sh -c &quot;$(fetch -o - https://raw.githubusercontent.com/ohmyzsh/ohmyzsh/master/tools/install.sh)&quot;
```
## 安装插件
```bash

#自动补全
git clone https://github.com/zsh-users/zsh-autosuggestions.git $ZSH/plugins/zsh-autosuggestions

#代码高亮
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git $ZSH/plugins/zsh-syntax-highlighting


```

# 复制默认.zshrc配置
cp ~/.oh-my-zsh/templates/zshrc.zsh-template ~/.zshrc

# 修改zshrc配置
编辑配置
```bash
vim ~/.zshrc # plugins=(git zsh-autosuggestions zsh-syntax-highlighting)
source ~/.zshrc
```


</p></a></article><article class="border rounded p-4"><a href="/posts/GIT"><h2 class="text-xl font-semibold">git</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2022年12月12日星期一</time></div><a href="/posts/GIT"><p class="line-clamp-2"># Git基本配置

##  1.用户名称和登录邮箱

&gt;1.设置全局用户名和邮箱
&gt; ```console
&gt; $ git config --global user.name &#x27;用户名称&#x27;
&gt; $ git config --global user.email &#x27;登录邮箱&#x27;  
&gt;```
&gt;2.取消全局配置
&gt; ```console
&gt; $ git config --global --unset user.name
&gt; $ git config --global --unset user.email
&gt; ```

## 2.密钥
&gt; 2.1.生成单个密钥
&gt; ```console
&gt; $ ssh-keygen -t rsa -C &#x27;邮箱地址&#x27;
&gt; ```
&gt; 2.2.测试
&gt; ```console
&gt; $ ssh -T git@github.com
&gt; $ ssh -T git@gitool.glanway.com
&gt; ```
```bash
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
@         WARNING: UNPROTECTED PRIVATE KEY FILE!          @
@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@
Permissions 0644 for &#x27;/root/.ssh/id_rsa&#x27; are too open.
It is required that your private key files are NOT accessible by others.
This private key will be ignored.
Load key &quot;/root/.ssh/id_rsa&quot;: bad permissions
```
解决
```bash
chmod 600 ~/.ssh/id_rsa
```
## 3.查看配置文件

&gt; 你可以通过以下命令查看所有的配置以及它们所在的文件：
&gt; ```console
&gt; $ git config --list
&gt; $ git config --list --show-origin
&gt; ```
## 4.提交库
&gt; 4.1.初始化本地库
&gt; ```console
&gt; $ git init
&gt; ```
&gt; 4.2.添加文件
&gt; ```console
&gt; $ git add README.md //单个文件
&gt; $ git add .	//所有文件
&gt; ```
&gt; 4.3.Commit
&gt; ```console
&gt; $ git commit -m &quot;提交信息&quot;
&gt; ```
&gt; 4.4.分支
&gt; ```console
&gt; $ git branch -M master //分支命名
&gt; $ git branch //查看本地所有分支
&gt; $ git branch -r 查看远端所有分支
&gt; $ git branch new_branch_name 新建分支
&gt; ```
&gt; 4.5.设置远程库
&gt; ```console
&gt; $ git remote rm
&gt; $ git remote add origin git@github.com:xxx/xxx.git
&gt; ```
&gt; 4.6.Push
&gt; ```console
&gt; $ git push -u origin master
&gt; $ git push -f origin master //强行让本地分支覆盖远程分支
&gt; ````
## 5.拉取库
&gt; ```console
&gt; $ git pull origin master //尽量别使用
&gt; $ git fetch origin master //拉取远端master到本地
&gt; $ git checkout my_branch //切换至想要的工作分支
&gt; $ git merge master //将master分支合并到当前的工作分支
&gt; $ git merge FETCH_HEAD //将master分支合并到当前的工作分支
&gt; ```
## 6.克隆库
&gt; ```console
&gt; $ git clone 库地址 保存地址
&gt; ```
## 7.清除已提交缓存
&gt; ```console
&gt; $ git rm -r --cached .idea //因为.gitignore只对从来没有commit过的文件起作用。
&gt; ```</p></a></article><article class="border rounded p-4"><a href="/posts/cmake"><h2 class="text-xl font-semibold">cmake</h2></a><div class="flex items-center gap-x-4"><time class="text-gray-600">2022年12月12日星期一</time></div><a href="/posts/cmake"><p class="line-clamp-2"># ubuntu20.0等linux系统安装升级nginx
## 1 安装包编译安装
### 1.1 下载安装包
&gt;去https://cmake.org/files/下载所需版本的源码。也可以使用wget下载
```bash
wget https://cmake.org/files/v3.23/cmake-3.23.1.tar.gz
```
解压
```bash
tar -xvzf cmake-3.23.1.tar.gz
```
安装必须依赖
```bash
apt install openssl
apt install libssl-dev
```
进入解压目录，配置成功之后显示：CMake has bootstrapped. Now run make.
```bash
./configure
```
编译安装
```bash
make &amp;&amp; make install # 默认安装目录在/usr/local/bin
```
### 2. 多版本配置
通过update-alternatives建立文件关联
首先要让系统知道我们安装了多个版本的gcc
```bash
# 命令最后的 20和50是优先级，如果使用auto选择模式，系统将默认使用优先级高的
sudo update-alternatives --install /usr/bin/cmake cmake /usr/bin/cmake 20
sudo update-alternatives --install /usr/bin/cmake cmake /usr/local/bin/cmake 50
```


## 1.1 cmake构建
```bash
mkdir build &amp;&amp; cd build # 在项目目录
cd build &amp;&amp; cmake .. # linus

cd build &amp;&amp; cmake .. -G&quot;Ninja&quot; # win+msys2+mingw64+ninja
cd build &amp;&amp; cmake .. -G&quot;MSYS Makefiles&quot; # win+msys2+mingw64
cmake .. -G&quot;MSYS Makefiles&quot; -DCMAKE_EXPORT_COMPILE_COMMANDS=1
```
## 1.2 cmake安装
方法一：
```bash
cmake --build . --target install
cmake --build . --target install --config release
make install # 或者针对make构建工具
```
方法二：

更加优雅的方法是在cmake3.15版本往后，使用cmake --install命令：
```bash
cmake --install . --prefix &quot;../output&quot;
```
--install指定构建目录；--prefix指定安装路径，覆盖安装路径变量CMAKE_INSTALL_PREFIX。

# cmake打包
要使用打包功能，需要执行include(CPack)启用相关的功能。

include(CPack)会在构建路径(Build tree)下生成两个cpack的配置文件，CPackConfig.cmake和CPackSourceConfig.cmake，其实也就对应了两个构建目标：package和package_source；

配合cpack命令，使用-G参数指定生成器，常用的有ZIP、TGZ、7Z等，可以同时指定多个，格式也是CMake语法中的列表，例如其默认值&quot;STGZ;TGZ&quot;；--config参数可以指定打包配置文件，比如：

方法一：
```bash
cpack -G TGZ --config CPackConfig.cmake
cpack -G TGZ --config CPackSourceConfig.cmake
```
方法二：

当然也可以使用cmake命令：
```bash
cmake --build . --target package
cmake --build . --target package_source
```

方法三：

如果使用make作为构建工具，可以简单地执行:
```bash
make package
make package_source
```

</p></a></article></div></div></div><div class="w-4/12"><div><strong>TODO</strong></div></div></div></main><footer class="flex justify-between max-w-3xl container mx-auto p-2 text-gray-400 tracking-tight m-2"><p class="py-2 text-gray-600 dark:text-gray-400">© 2023 <a class="hover:underline hover:text-black dark:hover:text-white underline-offset-[3px]" target="_blank" href="https://github.com/shaijing">Ling Yu</a>. All rights reserved.</p><ul class="flex items-center py-2"><li><a class="flex hover:text-black dark:hover:text-white" target="_blank" href="https://github.com/shaijing"><svg width="24" height="24" fill="currentColor" viewBox="3 3 18 18"><title>GitHub</title><path d="M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"></path></svg></a></li></ul></footer><script src="/_next/static/chunks/webpack-f55cc60471d503cd.js" async=""></script><script src="/_next/static/chunks/20e9c529-71751042407fa032.js" async=""></script><script src="/_next/static/chunks/340-17ce4e6ebfbad5f2.js" async=""></script><script src="/_next/static/chunks/main-app-96e8868f9e2f9847.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/css/26e5e103248c0511.css\",{\"as\":\"style\"}]\n0:\"$L2\"\n"])</script><script>self.__next_f.push([1,"3:I{\"id\":6452,\"chunks\":[\"272:static/chunks/webpack-f55cc60471d503cd.js\",\"227:static/chunks/20e9c529-71751042407fa032.js\",\"340:static/chunks/340-17ce4e6ebfbad5f2.js\"],\"name\":\"default\",\"async\":false}\n5:I{\"id\":9728,\"chunks\":[\"272:static/chunks/webpack-f55cc60471d503cd.js\",\"227:static/chunks/20e9c529-71751042407fa032.js\",\"340:static/chunks/340-17ce4e6ebfbad5f2.js\"],\"name\":\"GlobalError\",\"async\":false}\n6:I{\"id\":6816,\"chunks\":[\"726:static/chunks/7ce12eaa-8a54fcd3612adceb.js\",\"754:static/chunks/754-c0b36751a47f8874"])</script><script>self.__next_f.push([1,".js\",\"185:static/chunks/app/layout-7c745b0e38c60836.js\"],\"name\":\"\",\"async\":false}\n7:I{\"id\":6339,\"chunks\":[\"726:static/chunks/7ce12eaa-8a54fcd3612adceb.js\",\"754:static/chunks/754-c0b36751a47f8874.js\",\"185:static/chunks/app/layout-7c745b0e38c60836.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":5612,\"chunks\":[\"272:static/chunks/webpack-f55cc60471d503cd.js\",\"227:static/chunks/20e9c529-71751042407fa032.js\",\"340:static/chunks/340-17ce4e6ebfbad5f2.js\"],\"name\":\"default\",\"async\":false}\n9:I{\"id\":5120,\"chunks\":[\"272:static/ch"])</script><script>self.__next_f.push([1,"unks/webpack-f55cc60471d503cd.js\",\"227:static/chunks/20e9c529-71751042407fa032.js\",\"340:static/chunks/340-17ce4e6ebfbad5f2.js\"],\"name\":\"default\",\"async\":false}\na:I{\"id\":5535,\"chunks\":[\"754:static/chunks/754-c0b36751a47f8874.js\",\"548:static/chunks/548-605c98e7d715b331.js\",\"931:static/chunks/app/page-4ca5aa4f0376b541.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":6608,\"chunks\":[\"726:static/chunks/7ce12eaa-8a54fcd3612adceb.js\",\"754:static/chunks/754-c0b36751a47f8874.js\",\"185:static/chunks/app/layout-7c745b0e38c60836.j"])</script><script>self.__next_f.push([1,"s\"],\"name\":\"\",\"async\":false}\nc:T481,"])</script><script>self.__next_f.push([1,"M12 3C7.0275 3 3 7.12937 3 12.2276C3 16.3109 5.57625 19.7597 9.15374 20.9824C9.60374 21.0631 9.77249 20.7863 9.77249 20.5441C9.77249 20.3249 9.76125 19.5982 9.76125 18.8254C7.5 19.2522 6.915 18.2602 6.735 17.7412C6.63375 17.4759 6.19499 16.6569 5.8125 16.4378C5.4975 16.2647 5.0475 15.838 5.80124 15.8264C6.51 15.8149 7.01625 16.4954 7.18499 16.7723C7.99499 18.1679 9.28875 17.7758 9.80625 17.5335C9.885 16.9337 10.1212 16.53 10.38 16.2993C8.3775 16.0687 6.285 15.2728 6.285 11.7432C6.285 10.7397 6.63375 9.9092 7.20749 9.26326C7.1175 9.03257 6.8025 8.08674 7.2975 6.81794C7.2975 6.81794 8.05125 6.57571 9.77249 7.76377C10.4925 7.55615 11.2575 7.45234 12.0225 7.45234C12.7875 7.45234 13.5525 7.55615 14.2725 7.76377C15.9937 6.56418 16.7475 6.81794 16.7475 6.81794C17.2424 8.08674 16.9275 9.03257 16.8375 9.26326C17.4113 9.9092 17.76 10.7281 17.76 11.7432C17.76 15.2843 15.6563 16.0687 13.6537 16.2993C13.98 16.5877 14.2613 17.1414 14.2613 18.0065C14.2613 19.2407 14.25 20.2326 14.25 20.5441C14.25 20.7863 14.4188 21.0746 14.8688 20.9824C16.6554 20.364 18.2079 19.1866 19.3078 17.6162C20.4077 16.0457 20.9995 14.1611 21 12.2276C21 7.12937 16.9725 3 12 3Z"])</script><script>self.__next_f.push([1,"2:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/26e5e103248c0511.css\",\"precedence\":\"next\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"p-301WNWXtmyuuJlb6sOQ\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/\",\"initialTree\":[\"\",{\"children\":[\"__PAGE__\",{}]},\"$undefined\",\"$undefined\",true],\"initialHead\":\"$L4\",\"globalErrorComponent\":\"$5\",\"children\":[[\"$\",\"html\",null,{\"lang\":\"zh-CN\",\"className\":\"flex flex-col h-full __className_a4da66\",\"children\":[\"$\",\"body\",null,{\"suppressHydrationWarning\":true,\"className\":\"flex flex-col h-full px-2\",\"children\":[\"$\",\"$L6\",null,{\"children\":[[\"$\",\"$L7\",null,{}],[\"$\",\"main\",null,{\"className\":\"text-black dark:text-white mx-0 px-2 py-0 flex-1 leading-6 justify-center\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"childProp\":{\"current\":[[\"$\",\"div\",null,{\"className\":\"flex flex-row relative justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"w-3/12\",\"children\":[\"$\",\"div\",null,{\"className\":\" flex-col\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"font-extrabold text-2xl tracking-tight mb-4\",\"children\":\"Ling Yu\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 dark:text-gray-400 mb-4\",\"children\":\"Developer and Writer\"}],[\"$\",\"p\",null,{\"className\":\"text-gray-600 dark:text-gray-400\",\"children\":\"All good things come to those who wait.\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"w-5/12\",\"children\":[\"$\",\"$La\",null,{}]}],[\"$\",\"div\",null,{\"className\":\"w-4/12\",\"children\":[\"$\",\"div\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"TODO\"}]}]}]]}],null],\"segment\":\"__PAGE__\"},\"styles\":[]}]}],[\"$\",\"footer\",null,{\"className\":\"flex justify-between max-w-3xl container mx-auto p-2 text-gray-400 tracking-tight m-2\",\"children\":[[\"$\",\"p\",null,{\"className\":\"py-2 text-gray-600 dark:text-gray-400\",\"children\":[\"© 2023 \",[\"$\",\"$Lb\",null,{\"className\":\"hover:underline hover:text-black dark:hover:text-white underline-offset-[3px]\",\"href\":\"https://github.com/shaijing\",\"target\":\"_blank\",\"children\":\"Ling Yu\"}],\". All rights reserved.\"]}],[\"$\",\"ul\",null,{\"className\":\"flex items-center py-2\",\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"$Lb\",null,{\"className\":\"flex hover:text-black dark:hover:text-white\",\"href\":\"https://github.com/shaijing\",\"target\":\"_blank\",\"children\":[\"$\",\"svg\",null,{\"width\":\"24\",\"height\":\"24\",\"fill\":\"currentColor\",\"viewBox\":\"3 3 18 18\",\"children\":[[\"$\",\"title\",null,{\"children\":\"GitHub\"}],[\"$\",\"path\",null,{\"d\":\"$c\"}]]}]}]}]}]]}]]}]}]}],null]}]]\n"])</script><script>self.__next_f.push([1,"4:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Ling's Blog\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Generated by Ling\"}],[\"$\",\"meta\",\"3\",{\"name\":\"author\",\"content\":\"Ling Yu\"}],[\"$\",\"link\",\"4\",{\"rel\":\"author\",\"href\":\"https://nextjs.org\"}],[\"$\",\"meta\",\"5\",{\"name\":\"author\",\"content\":\"NextJs\"}],[\"$\",\"meta\",\"6\",{\"name\":\"generator\",\"content\":\"Next.js\"}],[\"$\",\"meta\",\"7\",{\"name\":\"keywords\",\"content\":\"Blog,AI,ML\"}],[\"$\",\"meta\",\"8\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Ling's Blog\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"Developer and Writer.\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://shaijing.github.io\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"https://shaijing.github.io\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:locale\",\"content\":\"zh-CN\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:type\",\"content\":\"website\"}],[\"$\",\"meta\",\"15\",{\"name\":\"twitter:card\",\"content\":\"summary\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:title\",\"content\":\"Ling's Blog\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:description\",\"content\":\"Developer and Writer.\"}],[\"$\",\"link\",\"18\",{\"rel\":\"icon\",\"href\":\"https://shaijing.github.io/favicon.ico\"}]]\n"])</script></body></html>